(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return Su}),n.d(e,"c",function(){return vu}),n.d(e,"d",function(){return mu}),n.d(e,"e",function(){return yu}),n.d(e,"f",function(){return mc}),n.d(e,"g",function(){return oc}),n.d(e,"h",function(){return Sa}),n.d(e,"i",function(){return Pu}),n.d(e,"j",function(){return Qo}),n.d(e,"k",function(){return Cu}),n.d(e,"l",function(){return ta}),n.d(e,"m",function(){return Cr}),n.d(e,"n",function(){return Xa}),n.d(e,"o",function(){return us}),n.d(e,"p",function(){return _n}),n.d(e,"q",function(){return ln}),n.d(e,"r",function(){return Os}),n.d(e,"s",function(){return ya}),n.d(e,"t",function(){return va}),n.d(e,"u",function(){return Tu}),n.d(e,"v",function(){return Pa}),n.d(e,"w",function(){return uc}),n.d(e,"x",function(){return Da}),n.d(e,"y",function(){return ec}),n.d(e,"z",function(){return Fu}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return Eu}),n.d(e,"C",function(){return wu}),n.d(e,"D",function(){return na}),n.d(e,"E",function(){return ea}),n.d(e,"F",function(){return jr}),n.d(e,"G",function(){return ia}),n.d(e,"H",function(){return br}),n.d(e,"I",function(){return Sn}),n.d(e,"J",function(){return hc}),n.d(e,"K",function(){return Aa}),n.d(e,"L",function(){return Bu}),n.d(e,"M",function(){return fn}),n.d(e,"N",function(){return oa}),n.d(e,"O",function(){return sa}),n.d(e,"P",function(){return La}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return nc}),n.d(e,"S",function(){return Xu}),n.d(e,"T",function(){return _}),n.d(e,"U",function(){return Yu}),n.d(e,"V",function(){return pc}),n.d(e,"W",function(){return Ku}),n.d(e,"X",function(){return Ou}),n.d(e,"Y",function(){return ls}),n.d(e,"Z",function(){return Lo}),n.d(e,"ab",function(){return yr}),n.d(e,"bb",function(){return tr}),n.d(e,"cb",function(){return zn}),n.d(e,"db",function(){return Gn}),n.d(e,"eb",function(){return Jn}),n.d(e,"fb",function(){return Kn}),n.d(e,"gb",function(){return $n}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return No}),n.d(e,"jb",function(){return dc}),n.d(e,"kb",function(){return Do}),n.d(e,"lb",function(){return Po}),n.d(e,"mb",function(){return Bn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Ps}),n.d(e,"pb",function(){return Qs}),n.d(e,"qb",function(){return Js}),n.d(e,"rb",function(){return ko}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return qn}),n.d(e,"vb",function(){return Cs}),n.d(e,"wb",function(){return Tt}),n.d(e,"xb",function(){return Ko}),n.d(e,"yb",function(){return fi}),n.d(e,"zb",function(){return Vs}),n.d(e,"Ab",function(){return lo}),n.d(e,"Bb",function(){return co}),n.d(e,"Cb",function(){return fu}),n.d(e,"Db",function(){return tt}),n.d(e,"Eb",function(){return at}),n.d(e,"Fb",function(){return S}),n.d(e,"Gb",function(){return O}),n.d(e,"Hb",function(){return it}),n.d(e,"Ib",function(){return ut}),n.d(e,"Jb",function(){return Us}),n.d(e,"Kb",function(){return Gs}),n.d(e,"Lb",function(){return Ks}),n.d(e,"Mb",function(){return $s}),n.d(e,"Nb",function(){return Bs}),n.d(e,"Ob",function(){return zs}),n.d(e,"Pb",function(){return Ws}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return Co}),n.d(e,"Sb",function(){return Dn}),n.d(e,"Tb",function(){return an}),n.d(e,"Ub",function(){return gu}),n.d(e,"Vb",function(){return Zs}),n.d(e,"Wb",function(){return du}),n.d(e,"Xb",function(){return to}),n.d(e,"Yb",function(){return Za}),n.d(e,"Zb",function(){return Ya}),n.d(e,"ac",function(){return Hs}),n.d(e,"bc",function(){return hu}),n.d(e,"cc",function(){return Qt}),n.d(e,"dc",function(){return _r}),n.d(e,"ec",function(){return wr}),n.d(e,"fc",function(){return st}),n.d(e,"gc",function(){return uo}),n.d(e,"hc",function(){return Io}),n.d(e,"ic",function(){return Ms}),n.d(e,"jc",function(){return Eo}),n.d(e,"kc",function(){return So}),n.d(e,"lc",function(){return Oo}),n.d(e,"mc",function(){return To});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function _(t){return t.__forward_ref__=_,t.toString=function(){return y(this())},t}function w(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===_}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,x)||C(t,j)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function P(t){const e=D;return D=t,e}function R(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,z=M||q||U||H,B={},G=[],$=g({"\u0275cmp":g}),K=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Q=g({"\u0275loc":g}),Z=g({"\u0275fac":g}),Y=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[K]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function st(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function St(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Et(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Tt(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ot(u&&u.currentValue,e,o===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Tt.ngInherit=!0;let jt=void 0;function kt(t){jt=t}function Nt(){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}function Dt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>Nt()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Rt(e[t])}function Ft(t,e){return Rt(e[t.index])}function Vt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ht(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function zt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function Gt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $t={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kt(){return $t.bindingsEnabled}function Wt(){return $t.lFrame.lView}function Jt(){return $t.lFrame.tView}function Qt(t){$t.lFrame.contextLView=t}function Zt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return $t.lFrame.currentTNode}function Xt(t,e){const n=$t.lFrame;n.currentTNode=t,n.isParent=e}function te(){return $t.lFrame.isParent}function ee(){$t.lFrame.isParent=!1}function ne(){return $t.isInCheckNoChangesMode}function re(t){$t.isInCheckNoChangesMode=t}function ie(){return $t.lFrame.bindingIndex}function se(){return $t.lFrame.bindingIndex++}function oe(t){const e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ae(t,e){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){$t.lFrame.currentDirectiveIndex=t}function ce(t){const e=$t.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function le(){return $t.lFrame.currentQueryIndex}function he(t){$t.lFrame.currentQueryIndex=t}function fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=$t.lFrame=ge();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=ge(),n=t[1];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ge(){const t=$t.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ve=ye;function be(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return $t.lFrame.selectedIndex}function we(t){$t.lFrame.selectedIndex=t}function Ee(){const t=$t.lFrame;return Vt(t.tView,t.selectedIndex)}function Se(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Ie(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(xe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function xe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ae=-1;class je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Dt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];De(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function De(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Le(t){return t!==Ae}function Fe(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function Ue(t){const e=Me;return Me=t,e}let He=0;function qe(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=Ge(t,e),s=t.injectorIndex;if(Le(i)){const t=Fe(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ge(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=He++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function Ke(t,e,n){if(n&N.Optional)return t;St(e,"NodeInjector")}function We(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],s=P(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{P(s)}}return Ke(r,e,n)}function Je(t,e,n,r=N.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof s){if(!de(e,t,r))return r&N.Host?Ke(i,n,r):We(e,n,r,i);try{const t=s();if(null!=t||r&N.Optional)return t;St(n)}finally{ve()}}else if("number"==typeof s){let i=null,o=Be(t,e),a=Ae,u=r&N.Host?e[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Ge(t,e):e[o+8],a!==Ae&&nn(r,!1)?(i=e[1],o=Fe(a),e=Ve(a,e)):o=-1);-1!==o;){const t=e[1];if(en(s,o,t.data)){const t=Ye(o,e,n,i,r,u);if(t!==Qe)return t}a=e[o+8],a!==Ae&&nn(r,e[1].data[o+8]===u)&&en(s,o,e)?(i=t,o=Fe(a),e=Ve(a,e)):o=-1}}}return We(e,n,r,i)}const Qe={};function Ze(){return new rn(Zt(),Wt())}function Ye(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Xe(a,o,n,null==r?mt(a)&&Me:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?tn(e,o,u,a):Qe}function Xe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function tn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof je){const o=i;o.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Et(s[n]));const a=Ue(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;de(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&P(u),Ue(a),o.resolving=!1,ve()}}return i}function en(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function nn(t,e){return!(t&N.Self||t&N.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Je(this._tNode,this._lView,t,void 0,e)}}function sn(t){const e=t;if(E(t))return()=>{const t=sn(w(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function on(t){return L(()=>{const e=t.prototype.constructor,n=e[Z]||sn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||sn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}const un="__parameters__";function cn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const hn=new ln("AnalyzeForEntryComponents"),fn=Function;function dn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),dn(r,e)):e!==t&&e.push(r)}return e}function pn(t,e){t.forEach(t=>Array.isArray(t)?pn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n=cn("Inject",t=>({token:t})),wn=cn("Optional"),En=cn("Self"),Sn=cn("SkipSelf"),On=cn("Host"),Tn={},Cn=/\n/gm,In="__source",xn=g({provide:String,useValue:g});let An,jn=void 0;function kn(t){const e=jn;return jn=t,e}function Nn(t,e=N.Default){if(void 0===jn)throw new Error("inject() must be called from an injection context");return null===jn?R(t,void 0,e):jn.get(t,e&N.Optional?null:void 0,e)}function Dn(t,e=N.Default){return(D||Nn)(w(t),e)}function Pn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=N.Optional:i instanceof Sn||"SkipSelf"===i.ngMetadataName||i===Sn?n|=N.SkipSelf:i instanceof En||"Self"===i.ngMetadataName||i===En?n|=N.Self:i instanceof On||"Host"===i.ngMetadataName||i===On?n|=N.Host:t=i instanceof _n||i===_n?i.token:i}e.push(Dn(t,n))}else e.push(Dn(r))}return e}function Rn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,z.trustedTypes))try{An=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Ln{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Fn extends Ln{getTypeName(){return"HTML"}}class Vn extends Ln{getTypeName(){return"Style"}}class Mn extends Ln{getTypeName(){return"Script"}}class Un extends Ln{getTypeName(){return"URL"}}class Hn extends Ln{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Ln?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Ln&&t.getTypeName()||null}function Gn(t){return new Fn(t)}function $n(t){return new Vn(t)}function Kn(t){return new Mn(t)}function Wn(t){return new Un(t)}function Jn(t){return new Hn(t)}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Rn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Rn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Rn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Yn)||t.match(Xn)?t:"unsafe:"+t}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=er("rp,rt"),or=nr(sr,ir),ar=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(sr,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ur=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=nr(ur,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!lr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ur[s]&&(o=tr(o)),cr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>tr(t.trim())).join(", ")),this.buf.push(" ",e,'="',gr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ar.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function yr(t,e){let n=null;try{mr=mr||function(t){const e=new Zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==s);return(new fr).sanitizeChildren(vr(n)||n)}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var br=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function _r(t){const e=Er();return e?e.sanitize(br.HTML,t)||"":zn(t,"HTML")?qn(t):yr(Nt(),wt(t))}function wr(t){const e=Er();return e?e.sanitize(br.URL,t)||"":zn(t,"URL")?qn(t):tr(wt(t))}function Er(){const t=Wt();return t&&t[12]}function Sr(t){return t.ngDebugContext}function Or(t){return t.ngOriginalError}function Tr(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sr(t)?Sr(t):this._findContext(Or(t)):null}_findOriginalError(t){let e=Or(t);for(;e&&Or(e);)e=Or(e);return e}}function Ir(t,e){t.__ngContext__=e}const xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ar(t){return t instanceof Function?t():t}var jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function kr(t,e){return(void 0)(t,e)}function Nr(t){const e=t[3];return pt(e)?e[3]:e}function Dr(t){return Rr(t[13])}function Pr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Lr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?zr(e,n,a):qr(e,n,a,i||null,!0):1===t&&null!==n?qr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Gr(t,e);r&&function(t,e,n,r){Dt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Rt(n)&&Lr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Qr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Fr(t,e,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Gt(i,-1)),n.splice(r,1)}function Mr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Vr(s,r),e>0&&(t[n-1][4]=r[4]);const o=mn(t,ft+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];Dt(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Hr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Hr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Hr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Rt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Dt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Vr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qr(t,e,n,r,i){Dt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zr(t,e,n){Dt(t)?t.appendChild(e,n):e.appendChild(n)}function Br(t,e,n,r,i){null!==r?qr(t,e,n,r,i):zr(t,e,n)}function Gr(t,e){return Dt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Ft(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Ft(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Br(s,i,n[a],o,!1);else Br(s,i,n,o,!1)}function Kr(t,e){if(null!==e){const n=e.type;if(3&n)return Ft(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Kr(t,n);{const n=t[e.index];return pt(n)?Wr(-1,n):Rt(n)}}if(32&n)return kr(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=Nr(n),s=r.projection[e.projection];return null!=s?Kr(i,s):Kr(t,e.next)}}return null}function Wr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Kr(t,r)}return e[7]}function Jr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ir(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Jr(t,e,n.child,r,i,s,!1),Lr(e,t,i,a,s);else if(32&u){const o=kr(n,r);let u;for(;u=o();)Lr(e,t,i,u,s);Lr(e,t,i,a,s)}else 16&u?Zr(t,e,r,n,i,s):Lr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Qr(t,e,n,r,i,s){Jr(n,r,t.firstChild,e,i,s,!1)}function Zr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Lr(e,t,i,a[u],s);else Jr(t,e,a,o[3],i,s,!0)}function Yr(t,e,n){Dt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){Dt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(oi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(oi(r))return!1;o=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(oi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(oi(r))return!1;o=!0}}}}else{if(!o&&!oi(r)&&!oi(u))return!1;if(o&&oi(u))continue;o=!1,r=u|1&r}}return oi(r)||o}function oi(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ci(t,e){return t?":not("+e.trim()+")":e}function li(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||oi(o)||(e+=ci(s,i),i=""),r=o,s=s||!oi(r);n++}return""!==i&&(e+=ci(s,i)),e}const hi={};function fi(t){di(Jt(),Wt(),_e()+t,ne())}function di(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}we(n)}function pi(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function mi(t){return 2|t}function yi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function _i(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];he(i),n.contentQueries(2,e[s],s)}}}function wi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Yt(),o=te(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),$t.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Oi(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&ts(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&ts(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const s=ne();try{Bt(e),$t.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Gt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Pr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&_i(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ts(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Gt(e[3],-1))}finally{be()}}function Ci(t,e,n,r){const i=e[10],s=!ne(),o=Ht(e);try{s&&!o&&i.begin&&i.begin(),o&&Oi(t,e,r),Ti(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ii(t,e,n,r,i){const s=_e();try{we(-1),2&r&&e.length>ht&&di(t,e,ht,ne()),n(r,i)}finally{we(s)}}function xi(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ai(t,e,n){Kt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||qe(n,e),Ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&zi(e,n,r);const u=tn(e,t,a,n);Ir(u,e),null!==o&&Bi(0,a-i,u,r,0,o),s&&(Mt(n.index,e)[8]=u)}}(t,e,n,Ft(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=$t.lFrame.currentDirectiveIndex;try{we(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{we(-1),ue(o)}}(t,e,n))}function ji(t,e,n=Ft){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ki(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:hi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Di(t,e,n,r){const i=ns(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&rs(t).push(r,i.length-1))}function Pi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ri(t,e,n,r,i,s,o,a){const u=Ft(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ss(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Dt(s)?s.setProperty(u,r,i):De(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(Kt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ui(n,o.selectors,!1)&&(i||(i=[]),$e(qe(n,e),t,o.type),vt(o)?(Mi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Hi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Si(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),qi(t,n,e,u,c),Ui(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:Gi(n,i);s.push(c),o=Pi(n,u,o),a=Pi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function Fi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new je(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Fi(t,e,0,r,Si(t,n,i.hostVars,hi),i)}function zi(t,e,n){const r=Ft(e,t),i=ki(n),s=t[10],o=Qi(t,wi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Bi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ki(t,e){const n=Mt(e,t);if(qt(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(let n=Dr(t);null!==n;n=Pr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Wi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);qt(r)&&r[5]>0&&Wi(r)}}function Ji(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Oi(r,n,n[8])}function Qi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Zi(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw is(e,i),i}finally{r.end&&r.end()}}function Xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function ts(t,e,n){he(0),e(t,n)}const es=(()=>Promise.resolve(null))();function ns(t){return t[7]||(t[7]=[])}function rs(t){return t.cleanup||(t.cleanup=[])}function is(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function ss(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function os(t,e,n){const r=Lt(e,t);!function(t,e,n){Dt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function as(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=v(i,t):2==s&&(r=v(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const us=new ln("INJECTOR",-1);class cs{get(t,e=Tn){if(e===Tn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new ln("Set Injector scope."),hs={},fs={},ds=[];let ps=void 0;function gs(){return void 0===ps&&(ps=new cs),ps}function ms(t,e=null,n=null,r){return new ys(t,n,e||gs(),r)}class ys{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pn(e,n=>this.processProvider(n,t,e)),pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(us,_s(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Tn,n=N.Default){this.assertNotDestroyed();const r=kn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ln)&&T(t);e=n&&this.injectableDefInScope(n)?_s(vs(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?gs():this.parent).get(t,e=n&N.Optional&&e===Tn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(y(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[In]&&i.unshift(e[In]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Cn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{kn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pn(r,t=>this.processProvider(t,n,r||ds))}}this.injectorDefTypes.add(s),this.records.set(s,_s(r.factory,hs));const a=r.providers;if(null!=a&&!o){const e=t;pn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Es(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return ws(t)?_s(void 0,t.useValue):_s(bs(t),hs)}(t);if(Es(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=_s(void 0,hs,!0),e.factory=()=>Pn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs&&(e.value=fs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function vs(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof ln)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bs(t,e,n){let r=void 0;if(Es(t)){const e=w(t);return bt(e)||vs(e)}if(ws(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Pn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Dn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||vs(e);r=()=>new e(...Pn(t.deps))}var i;return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ws(t){return null!==t&&"object"==typeof t&&xn in t}function Es(t){return"function"==typeof t}const Ss=function(t,e,n){return function(t,e=null,n=null,r){const i=ms(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Os=(()=>{class t{static create(t,e){return Array.isArray(t)?Ss(t,e,""):Ss(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Tn,t.NULL=new cs,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>Dn(us)}),t.__NG_ELEMENT_ID__=-1,t})();function Ts(t,e){Se(Ut(t)[1],Zt())}function Cs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Is(t.inputs),e.declaredInputs=Is(t.declaredInputs),e.outputs=Is(t.outputs);const n=i.hostBindings;n&&js(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&xs(t,s),o&&As(t,o),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Cs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function Is(t){return t===B?{}:t===G?[]:t}function xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function As(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function js(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ks=null;function Ns(){if(!ks){const t=z.Symbol;if(t&&t.iterator)ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ks=n)}}}return ks}class Ds{constructor(t){this.wrapped=t}static wrap(t){return new Ds(t)}static unwrap(t){return Ds.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ds}}function Ps(t){return!!Rs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ns()in t)}function Rs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ls(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fs(t,e,n,r){const i=Ls(t,e,n);return Ls(t,e+1,r)||i}function Vs(t,e,n,r){const i=Wt();return Ls(i,se(),e)&&(Jt(),function(t,e,n,r,i,s){const o=Ft(t,e);!function(t,e,n,r,i,s,o){if(null==s)Dt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?wt(s):o(s,r||"",i);Dt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Ee(),i,t,e,n,r)),Vs}function Ms(t,e,n,r,i,s,o,a){const u=Wt(),c=Jt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ei(e,t,4,o||null,zt(c,a));Li(e,n,l,zt(c,u)),Se(e,l);const h=l.tViews=Ni(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Xt(h,!1);const f=u[11].createComment("");$r(c,u,f,h),Ir(f,u),Qi(u,u[l]=$i(f,u,f,h)),yt(h)&&Ai(c,u,h),null!=o&&ji(u,h,a)}function Us(t,e=N.Default){const n=Wt();return null===n?Dn(t,e):Je(Zt(),n,w(t),e)}function Hs(t,e,n){const r=Wt();return Ls(r,se(),e)&&Ri(Jt(),Ee(),r,t,e,r[11],n,!1),Hs}function qs(t,e,n,r,i){const s=i?"class":"style";ss(t,n,e.inputs[s],s,r)}function zs(t,e,n,r){const i=Wt(),s=Jt(),o=ht+t,a=i[11],u=i[o]=Fr(a,e,$t.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ei(e,t,2,i,zt(a,s));return Li(e,n,u,zt(a,o)),null!==u.attrs&&as(u,u.attrs,!1),null!==u.mergedAttrs&&as(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Xt(c,!0);const l=c.mergedAttrs;null!==l&&ke(a,u,l);const h=c.classes;null!==h&&Xr(a,u,h);const f=c.styles;null!==f&&Yr(a,u,f),64!=(64&c.flags)&&$r(s,i,u,c),0===$t.lFrame.elementDepthCount&&Ir(u,i),$t.lFrame.elementDepthCount++,yt(c)&&(Ai(s,i,c),xi(s,c,i)),null!==r&&ji(i,c)}function Bs(){let t=Zt();te()?ee():(t=t.parent,Xt(t,!1));const e=t;$t.lFrame.elementDepthCount--;const n=Jt();n.firstCreatePass&&(Se(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qs(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qs(n,e,Wt(),e.stylesWithoutHost,!1)}function Gs(t,e,n,r){zs(t,e,n,r),Bs()}function $s(t,e,n){const r=Wt(),i=Jt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=zt(s,r),a=Ei(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Li(e,n,a,zt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xt(o,!0);const a=r[s]=r[11].createComment("");$r(i,r,a,o),Ir(a,r),yt(o)&&(Ai(i,r,o),xi(i,o,r)),null!=n&&ji(r,o)}function Ks(){let t=Zt();const e=Jt();te()?ee():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Se(e,t),gt(t)&&e.queries.elementEnd(t))}function Ws(){return Wt()}function Js(t){return!!t&&"function"==typeof t.then}function Qs(t){return!!t&&"function"==typeof t.subscribe}function Zs(t,e,n=!1,r){const i=Wt(),s=Jt(),o=Zt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&rs(t),l=ns(e);let h=!0;if(3&r.type){const f=Ft(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(Rt(t[r.index])).target:r.index;if(Dt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Xs(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Xs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Xs(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Zs}function Ys(t,e,n){try{return!1!==e(n)}catch(r){return is(t,r),!1}}function Xs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Zi(o);let a=Ys(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Ys(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function to(t=1){return function(t){return($t.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$t.lFrame.contextLView))[8]}(t)}const eo=[];function no(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?gi(s):yi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];ro(t[a],e)&&(u=!0,t[a+1]=r?bi(n):mi(n)),a=r?gi(n):yi(n)}u&&(t[n+1]=r?mi(s):bi(s))}function ro(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function so(t){return t.substring(io.key,io.keyEnd)}function oo(t,e){const n=io.textEnd;return n===e?-1:(e=io.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,io.key=e,n),ao(t,e,n))}function ao(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function uo(t,e,n){return fo(t,e,n,!1),uo}function co(t,e){return fo(t,e,null,!0),co}function lo(t){!function(t,e,n,r){const i=Jt(),s=oe(2);i.firstUpdatePass&&go(i,null,s,r);const o=Wt();if(n!==hi&&Ls(o,s,n)){const a=i.data[_e()];if(wo(a,r)&&!po(i,s)){let t=a.classesWithoutHost;null!==t&&(n=v(t,n||"")),qs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===hi&&(i=eo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&vo(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return eo;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(yn,ho,t,!0)}function ho(t,e){for(let n=function(t){return function(t){io.key=0,io.keyEnd=0,io.value=0,io.valueEnd=0,io.textEnd=t.length}(t),oo(t,ao(t,0,io.textEnd))}(e);n>=0;n=oo(e,n))yn(t,so(e),!0)}function fo(t,e,n,r){const i=Wt(),s=Jt(),o=oe(2);s.firstUpdatePass&&go(s,t,o,r),e!==hi&&Ls(i,o,e)&&vo(s,s.data[_e()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=y(qn(t)))),t}(e,n),r,o)}function po(t,e){return e>=t.expandoStartIndex}function go(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_e()],o=po(t,n);wo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ce(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=yo(n=mo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=mo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[gi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=mo(null,t,e,n[1],r),n=yo(n,e.attrs,r),function(t,e,n,r){t[gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yo(r,t[s].hostAttrs,n);return yo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=yi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=gi(t[a+1]);t[r+1]=pi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=pi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=pi(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),no(t,c,r,!0),no(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bn(s,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,s),o=pi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function mo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=yo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function yo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function vo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];_o(1==(1&c)?bo(u,e,n,i,yi(c),o):void 0)||(_o(s)||2==(2&c)&&(s=bo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Dt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:jr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=jr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Lt(_e(),n),i,s))}function bo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===hi&&(l=c?eo:void 0);let h=c?vn(l,r):u===r?l:void 0;if(s&&!_o(h)&&(h=vn(e,r)),_o(h)&&(a=h,o))return a;const f=t[i+1];i=o?gi(f):yi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,r))}return a}function _o(t){return void 0!==t}function wo(t,e){return 0!=(t.flags&(e?16:32))}function Eo(t,e=""){const n=Wt(),r=Jt(),i=t+ht,s=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Dt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,o,s),Xt(s,!1)}function So(t){return Oo("",t,""),So}function Oo(t,e,n){const r=Wt(),i=function(t,e,n,r){return Ls(t,se(),n)?e+wt(n)+r:hi}(r,t,e,n);return i!==hi&&os(r,_e(),i),Oo}function To(t,e,n,r,i){const s=Wt(),o=function(t,e,n,r,i,s){const o=Fs(t,ie(),n,i);return oe(2),o?e+wt(n)+r+wt(i)+s:hi}(s,t,e,n,r,i);return o!==hi&&os(s,_e(),o),To}function Co(t,e,n){const r=Wt();return Ls(r,se(),e)&&Ri(Jt(),Ee(),r,t,e,r[11],n,!0),Co}function Io(t,e,n){const r=Wt();if(Ls(r,se(),e)){const i=Jt(),s=Ee();Ri(i,s,r,t,e,function(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ce(i.data),s,r),n,!0)}return Io}const xo=void 0;var Ao=["en",[["a","p"],["AM","PM"],xo],[["AM","PM"],xo,xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xo,"{1} 'at' {0}",xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let jo={};function ko(t,e,n){"string"!=typeof e&&(n=e,e=t[Lo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),jo[e]=t,n&&(jo[e][Lo.ExtraData]=n)}function No(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ro(e);if(n)return n;const r=e.split("-")[0];if(n=Ro(r),n)return n;if("en"===r)return Ao;throw new Error(`Missing locale data for the locale "${t}".`)}function Do(t){return No(t)[Lo.CurrencyCode]||null}function Po(t){return No(t)[Lo.PluralCase]}function Ro(t){return t in jo||(jo[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),jo[t]}var Lo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Fo="en-US";let Vo=Fo;function Mo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Vo=t.toLowerCase().replace(/_/g,"-"))}function Uo(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let s=0;s<t.length;s++)Uo(t[s],e,n,r,i);else{const s=Jt(),o=Wt();let a=Es(t)?t:w(t.provide),u=bs(t);const c=Zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Es(t)||!t.multi){const r=new je(u,i,Us),d=zo(a,e,i?l:l+f,h);-1===d?($e(qe(c,o),s,a),Ho(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=zo(a,e,l+f,h),p=zo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){$e(qe(c,o),s,a);const l=function(t,e,n,r,i){const s=new je(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,qo(s,i,r&&!n),s}(i?Go:Bo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ho(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Ho(s,t,d>-1?d:p,qo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ho(t,e,n,r){const i=Es(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function qo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Bo(t,e,n,r){return $o(this.multi,[])}function Go(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),$o(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],$o(i,s);return s}function $o(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ko(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Jt();if(r.firstCreatePass){const i=vt(t);Uo(n,r.data,r.blueprint,i,!0),Uo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Wo{}class Jo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Qo=(()=>{class t{}return t.NULL=new Jo,t})();function Zo(...t){}function Yo(t,e){return new ta(Ft(t,e))}const Xo=function(){return Yo(Zt(),Wt())};let ta=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Xo,t})();class ea{}let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(),t})();const ra=function(){const t=Wt(),e=Mt(Zt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ia=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const oa=new sa("11.0.9");class aa{constructor(){}supports(t){return Ps(t)}create(t){return new ca(t)}}const ua=(t,e)=>e;class ca{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ua}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<da(n,r,i)?e:n,o=da(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ps(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ns()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new la(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class la{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ha{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ha,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function da(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pa{constructor(){}supports(t){return t instanceof Map||Rs(t)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Rs(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ma(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ma{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Sn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new aa])}),t})(),va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Sn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new pa])}),t})();function ba(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Rt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ba(e[1],e,n,r)}const o=n.type;if(8&o)ba(t,e,n.child,r);else if(32&o){const t=kr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Nr(t);ba(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class _a{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ba(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Mr(t,n),mn(e,n))}this._attachedToViewContainer=!1}Ur(this._lView[1],this._lView)}onDestroy(t){Di(this._lView[1],this._lView,null,t)}markForCheck(){Zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{Yi(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class wa extends _a{constructor(t){super(t),this._view=t}detectChanges(){Xi(this._view)}checkNoChanges(){!function(t){re(!0);try{Xi(t)}finally{re(!1)}}(this._view)}get context(){return null}}const Ea=Oa;let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t.__ChangeDetectorRef__=!0,t})();function Oa(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new _a(n,n)}return 47&t.type?new _a(e[16],e):null}(Zt(),Wt(),t)}const Ta=[new pa],Ca=new ya([new aa]),Ia=new va(Ta),xa=function(){return Na(Zt(),Wt())};let Aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=xa,t})();const ja=Aa,ka=class extends ja{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Oi(e,n,t),new _a(n)}};function Na(t,e){return 4&t.type?new ka(e,t,Yo(t,e)):null}class Da{}class Pa{}const Ra=function(){return Ha(Zt(),Wt())};let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const Fa=La,Va=class extends Fa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Yo(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ge(this._hostTNode,this._hostLView);if(Le(t)){const e=Ve(t,this._hostLView),n=Fe(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ma(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Da,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Va(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],gn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Wr(i,s),a=n[11],u=Gr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Qr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),gn(Ua(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ma(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(mn(Ua(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=mn(Ua(this._lContainer),e)?new _a(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ma(t){return t[8]}function Ua(t){return t[8]||(t[8]=[])}function Ha(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Ft(t,e);qr(n,Gr(n,r),i,function(t,e){return Dt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Qi(e,n)}return new Va(n,t,e)}const qa={};class za extends Qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new $a(e,this.ngModule)}}function Ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ga=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xr});class $a extends Wo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(li).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ba(this.componentDef.inputs)}get outputs(){return Ba(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,qa,i);return s!==qa||r===qa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ea,Pt),o=i.get(ia,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Dt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Fr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xr,clean:es,playerHandler:null,flags:0},f=Ni(0,null,null,1,0,null,null,null,null,null),d=wi(null,f,h,l,null,null,s,a,o,i);let p,g;pe(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ei(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(as(a,u,!0),null!==t&&(ke(i,t,u),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=wi(n,ki(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&($e(qe(a,n),o,e.type),Mi(o,a),Hi(a,n.length,1)),Qi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)ke(a,c,["ng-version",oa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,c,t),e&&e.length>0&&Xr(a,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qi(t,r,e,Si(t,e,1,null),n));const i=tn(e,t,r.directiveStart,r);Ir(i,e);const s=Ft(r,e);return s&&Ir(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Zt();e.contentQueries(1,o,t.directiveStart)}const a=Zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),Fi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,o)),o}(t,this.componentDef,d,h,[Ts]),Oi(f,d,null)}finally{be()}return new Ka(this.componentType,p,Yo(g,d),d,g)}}class Ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new wa(r),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Wa=new Map;class Ja extends Da{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new za(this);const n=lt(t),r=t[Q]||null;r&&Mo(r),this._bootstrapComponents=Ar(n.bootstrap),this._r3Injector=ms(t,e,[{provide:Da,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Os.THROW_IF_NOT_FOUND,n=N.Default){return t===Os||t===Da||t===us?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends Pa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Wa.get(i),n),Wa.set(i,n));const s=Ar(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ja(this.moduleType,t)}}function Za(t,e){const n=Jt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new _t("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=P(Us);try{const t=Ue(!1),e=s();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{P(o)}}function Ya(t,e,n,r){const i=t+ht,s=Wt(),o=function(t,e){return t[e]}(s,i);return function(t,e){return Ds.isWrapped(e)&&(e=Ds.unwrap(e),t[ie()]=hi),e}(s,function(t,e){return t[1].data[e].pure}(s,i)?function(t,e,n,r,i,s,o){const a=e+n;return Fs(t,a,i,s)?function(t,e,n){return t[e]=n}(t,a+2,o?r.call(o,i,s):r(i,s)):function(t,e){const n=t[e];return n===hi?void 0:n}(t,a+2)}(s,function(){const t=$t.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,r,o):o.transform(n,r))}const Xa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function tu(){return this._results[Ns()]()}class eu{constructor(){this.dirty=!0,this._results=[],this.changes=new Xa,this.length=0;const t=Ns(),e=eu.prototype;e[t]||(e[t]=tu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=dn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class nu{constructor(t){this.queryList=t,this.matches=null}clone(){return new nu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ru{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ru(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==pu(t,e).matches&&this.queries[e].setDirty()}}class iu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class su{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new su(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ou{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ou(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,au(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===Aa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ta||r===La||r===Aa&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function au(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function uu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Yo(t,e):4&t.type?Na(t,e):null}(e,t):-2===n?function(t,e,n){return n===ta?Yo(e,t):n===Aa?Na(e,t):n===La?Ha(e,t):void 0}(t,e,r):tn(t,t[1],n,e)}function cu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:uu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function lu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=cu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&lu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];lu(n[1],n,i,r)}}}}}return r}function hu(t){const e=Wt(),n=Jt(),r=le();he(r+1);const i=pu(n,r);if(t.dirty&&Ht(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?lu(n,e,r,[]):cu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function fu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new su),t.queries.track(new ou(e,n))}(t,new iu(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new eu;Di(t,e,n,n.destroy),null===e[19]&&(e[19]=new ru),e[19].queries.push(new nu(n))}(t,e)}(Jt(),Wt(),e,n,r,0,Zt(),t)}function du(){return t=Wt(),e=le(),t[19].queries[e].queryList;var t,e}function pu(t,e){return t.queries.getByIndex(e)}function gu(t=N.Default){const e=Oa(!0);if(null!=e||t&N.Optional)return e;St("ChangeDetectorRef")}const mu=new ln("Application Initializer");let yu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Zo,this.reject=Zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Dn(mu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const vu=new ln("AppId"),bu={provide:vu,useFactory:function(){return`${_u()}${_u()}${_u()}`},deps:[]};function _u(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wu=new ln("Platform Initializer"),Eu=new ln("Platform ID"),Su=new ln("appBootstrapListener");let Ou=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Tu=new ln("LocaleId"),Cu=new ln("DefaultCurrencyCode");class Iu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xu=function(t){return new Qa(t)},Au=xu,ju=function(t){return Promise.resolve(xu(t))},ku=function(t){const e=xu(t),n=Ar(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new $a(n)),t},[]);return new Iu(e,n)},Nu=ku,Du=function(t){return Promise.resolve(ku(t))};let Pu=(()=>{class t{constructor(){this.compileModuleSync=Au,this.compileModuleAsync=ju,this.compileModuleAndAllComponentsSync=Nu,this.compileModuleAndAllComponentsAsync=Du}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ru=(()=>Promise.resolve(0))();function Lu(t){"undefined"==typeof Zone?Ru.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Uu(t),Mu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Uu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Hu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),qu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Hu(t),e.invoke(r,i,s,o,a)}finally{qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Uu(t),Mu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Vu,Zo,Zo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Vu={};function Mu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Hu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qu(t){t._nesting--,Mu(t)}class zu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Bu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fu.assertNotInAngularZone(),Lu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Dn(Fu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Gu=(()=>{class t{constructor(){this._applications=new Map,Ju.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ju.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class $u{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ku(t){Ju=t}let Wu,Ju=new $u,Qu=!0,Zu=!1;function Yu(){return Zu=!0,Qu}function Xu(){if(Zu)throw new Error("Cannot enable prod mode after platform setup.");Qu=!1}const tc=new ln("AllowMultipleToken");class ec{constructor(t,e){this.name=t,this.token=e}}function nc(t,e,n=[]){const r="Platform: "+e,i=new ln(r);return(e=[])=>{let s=rc();if(!s||s.injector.get(tc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(Wu&&!Wu.destroyed&&!Wu.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wu=t.get(ic);const e=t.get(wu,null);e&&e.forEach(t=>t())}(Os.create({providers:t,name:r}))}return function(t){const e=rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function rc(){return Wu&&!Wu.destroyed?Wu:null}let ic=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new zu:("zone.js"===t?void 0:t)||new Fu({enableLongStackTrace:Yu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Fu,useValue:n}];return n.run(()=>{const e=Os.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Cr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{ac(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(yu);return t.runInitializers(),t.donePromise.then(()=>(Mo(i.injector.get(Tu,Fo)||Fo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=sc({},e);return function(t,e,n){const r=new Qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(oc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Dn(Os))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function sc(t,e){return Array.isArray(e)?e.reduce(sc,t):Object.assign(Object.assign({},t),e)}let oc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fu.assertNotInAngularZone(),Lu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Wo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Da),i=n.create(Os.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Bu,null),a=o&&i.injector.get(Gu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),ac(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Yu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ac(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Su,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Dn(Fu),Dn(Ou),Dn(Os),Dn(Cr),Dn(Qo),Dn(yu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uc{}class cc{}const lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>fc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>fc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Dn(Pu),Dn(cc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function fc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const dc=function(t){return null},pc=nc(null,"core",[{provide:Eu,useValue:"unknown"},{provide:ic,deps:[Os]},{provide:Gu,deps:[]},{provide:Ou,deps:[]}]),gc=[{provide:oc,useClass:oc,deps:[Fu,Ou,Os,Cr,Qo,yu]},{provide:Ga,deps:[Fu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:yu,useClass:yu,deps:[[new wn,mu]]},{provide:Pu,useClass:Pu,deps:[]},bu,{provide:ya,useFactory:function(){return Ca},deps:[]},{provide:va,useFactory:function(){return Ia},deps:[]},{provide:Tu,useFactory:function(t){return Mo(t=t||"undefined"!=typeof $localize&&$localize.locale||Fo),t},deps:[[new _n(Tu),new wn,new Sn]]},{provide:Cu,useValue:"USD"}];let mc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(Dn(oc))},providers:gc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDLbwaQzvzCJ0W2MlH7CsUdENEpb6uInVA",authDomain:"appinventor-4caaa.firebaseapp.com",databaseURL:"https://appinventor-4caaa.firebaseio.com",projectId:"appinventor-4caaa",storageBucket:"appinventor-4caaa.appspot.com",messagingSenderId:"120829921594",appId:"1:120829921594:web:727ec145a19596a7e9e803"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(y),r.Sb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Sb)(y),Object(r.Sb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),C=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),I=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function j(t,e){return L(Object(r.ib)(t)[r.Z.DateFormat],e)}function k(t,e){return L(Object(r.ib)(t)[r.Z.TimeFormat],e)}function N(t,e){return L(Object(r.ib)(t)[r.Z.DateTimeFormat],e)}function D(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.Z.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.Z.NumberSymbols][A.Group]}return i}const P=r.lb;function R(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function F(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,M={},U=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),z=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function B(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=G(n,e)||e;let s,o=[];for(;e;){if(s=U.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=J(z.Eras,I.Abbreviated);break;case"GGGG":e=J(z.Eras,I.Wide);break;case"GGGGG":e=J(z.Eras,I.Narrow);break;case"y":e=W(q.FullYear,1,0,!1,!0);break;case"yy":e=W(q.FullYear,2,0,!0,!0);break;case"yyy":e=W(q.FullYear,3,0,!1,!0);break;case"yyyy":e=W(q.FullYear,4,0,!1,!0);break;case"Y":e=X(1);break;case"YY":e=X(2,!0);break;case"YYY":e=X(3);break;case"YYYY":e=X(4);break;case"M":case"L":e=W(q.Month,1,1);break;case"MM":case"LL":e=W(q.Month,2,1);break;case"MMM":e=J(z.Months,I.Abbreviated);break;case"MMMM":e=J(z.Months,I.Wide);break;case"MMMMM":e=J(z.Months,I.Narrow);break;case"LLL":e=J(z.Months,I.Abbreviated,C.Standalone);break;case"LLLL":e=J(z.Months,I.Wide,C.Standalone);break;case"LLLLL":e=J(z.Months,I.Narrow,C.Standalone);break;case"w":e=Y(1);break;case"ww":e=Y(2);break;case"W":e=Y(1,!0);break;case"d":e=W(q.Date,1);break;case"dd":e=W(q.Date,2);break;case"E":case"EE":case"EEE":e=J(z.Days,I.Abbreviated);break;case"EEEE":e=J(z.Days,I.Wide);break;case"EEEEE":e=J(z.Days,I.Narrow);break;case"EEEEEE":e=J(z.Days,I.Short);break;case"a":case"aa":case"aaa":e=J(z.DayPeriods,I.Abbreviated);break;case"aaaa":e=J(z.DayPeriods,I.Wide);break;case"aaaaa":e=J(z.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=J(z.DayPeriods,I.Abbreviated,C.Standalone,!0);break;case"bbbb":e=J(z.DayPeriods,I.Wide,C.Standalone,!0);break;case"bbbbb":e=J(z.DayPeriods,I.Narrow,C.Standalone,!0);break;case"B":case"BB":case"BBB":e=J(z.DayPeriods,I.Abbreviated,C.Format,!0);break;case"BBBB":e=J(z.DayPeriods,I.Wide,C.Format,!0);break;case"BBBBB":e=J(z.DayPeriods,I.Narrow,C.Format,!0);break;case"h":e=W(q.Hours,1,-12);break;case"hh":e=W(q.Hours,2,-12);break;case"H":e=W(q.Hours,1);break;case"HH":e=W(q.Hours,2);break;case"m":e=W(q.Minutes,1);break;case"mm":e=W(q.Minutes,2);break;case"s":e=W(q.Seconds,1);break;case"ss":e=W(q.Seconds,2);break;case"S":e=W(q.FractionalSeconds,1);break;case"SS":e=W(q.FractionalSeconds,2);break;case"SSS":e=W(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Q(H.Short);break;case"ZZZZZ":e=Q(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Q(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Q(H.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function G(t,e){const n=function(t){return Object(r.ib)(t)[r.Z.LocaleId]}(t);if(M[n]=M[n]||{},M[n][e])return M[n][e];let i="";switch(e){case"shortDate":i=j(t,x.Short);break;case"mediumDate":i=j(t,x.Medium);break;case"longDate":i=j(t,x.Long);break;case"fullDate":i=j(t,x.Full);break;case"shortTime":i=k(t,x.Short);break;case"mediumTime":i=k(t,x.Medium);break;case"longTime":i=k(t,x.Long);break;case"fullTime":i=k(t,x.Full);break;case"short":const e=G(t,"shortTime"),n=G(t,"shortDate");i=$(N(t,x.Short),[e,n]);break;case"medium":const r=G(t,"mediumTime"),s=G(t,"mediumDate");i=$(N(t,x.Medium),[r,s]);break;case"long":const o=G(t,"longTime"),a=G(t,"longDate");i=$(N(t,x.Long),[o,a]);break;case"full":const u=G(t,"fullTime"),c=G(t,"fullDate");i=$(N(t,x.Full),[u,c])}return i&&(M[n][e]=i),i}function $(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function K(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function W(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,K(a,3).substr(0,u);var u;const c=D(o,A.MinusSign);return K(a,e,c,r,i)}}function J(t,e,n=C.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case z.Months:return function(t,e,n){const i=Object(r.ib)(t),s=L([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return L(s,n)}(e,s,i)[t.getMonth()];case z.Days:return function(t,e,n){const i=Object(r.ib)(t),s=L([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return L(s,n)}(e,s,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.ib)(t);return R(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?F(t):[F(t[0]),F(t[1])])}(e),n=function(t,e,n){const i=Object(r.ib)(t);R(i);const s=L([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return L(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.ib)(t),s=L([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return L(s,n)}(e,s,i)[a<12?0:1];case z.Eras:return function(t,e){return L(Object(r.ib)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,o,t,e,n,i)}}function Q(t){return function(e,n,r){const i=-1*r,s=D(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case H.Short:return(i>=0?"+":"")+K(o,2,s)+K(Math.abs(i%60),2,s);case H.ShortGMT:return"GMT"+(i>=0?"+":"")+K(o,1,s);case H.Long:return"GMT"+(i>=0?"+":"")+K(o,2,s)+":"+K(Math.abs(i%60),2,s);case H.Extended:return 0===r?"Z":(i>=0?"+":"")+K(o,2,s)+":"+K(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Y(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return K(i,t,D(r,A.MinusSign))}}function X(t,e=!1){return function(n,r){return K(Z(n).getFullYear(),t,D(r,A.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(P(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ot=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new at(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new at(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class at{constructor(t,e){this.record=t,this.view=e}}let ut=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ct{constructor(){this.$implicit=null,this.ngIf=null}}function lt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let ht=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return B(e,n,s||this.locale,i)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275pipe=r.Ib({name:"date",type:t,pure:!0}),t})(),ft=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:rt,useClass:it}]}),t})();function dt(t){return"server"===t}let pt=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new gt(Object(r.Sb)(a),window)}),t})();class gt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mt(this.window.history)||mt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yt,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=bt||(bt=document.querySelector("base"),bt)?bt.getAttribute("href"):null;return null==e?null:(n=e,vt||(vt=document.createElement("a")),vt.setAttribute("href",n),"/"===vt.pathname.charAt(0)?vt.pathname:"/"+vt.pathname);var n}resetBaseElement(){bt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let vt,bt=null;const _t=new r.q("TRANSITION_ID"),wt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[_t,a,r.r],multi:!0}];class Et{static init(){Object(r.W)(new Et)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const St=new r.q("EventManagerPlugins");let Ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(St),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),It=(()=>{class t extends Ct{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function jt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jt(t,i,n):(i=i.replace(At,t),n.push(i))}return n}function kt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=jt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ot),r.Sb(It),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(xt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=xt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=xt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,kt(n)):this.eventManager.addEventListener(t,e,kt(n))}}class Pt extends Dt{constructor(t,e,n,r){super(t),this.component=n;const i=jt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(At,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(At,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Rt extends Dt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=jt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lt=(()=>{class t extends Tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Ft=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ht=(()=>{class t extends Tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Mt.hasOwnProperty(e)&&(e=Mt[e]))}return Vt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ft.forEach(r=>{r!=n&&(0,Ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Sb)(zt)},token:t,providedIn:"root"}),t})(),zt=(()=>{class t extends qt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Sb)(r.o),new zt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Bt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){yt.makeCurrent(),Et.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Gt=Object(r.R)(r.V,"browser",Bt),$t=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:St,useClass:Lt,multi:!0,deps:[a,r.z,r.B]},{provide:St,useClass:Ht,multi:!0,deps:[a]},[],{provide:Nt,useClass:Nt,deps:[Ot,It,r.c]},{provide:r.E,useExisting:Nt},{provide:Ct,useExisting:It},{provide:It,useClass:It,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Ot,useClass:Ot,deps:[St,r.z]},[]];let Kt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:_t,useExisting:r.c},wt]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:$t,imports:[ft,r.f]}),t})();"undefined"!=typeof window&&window;var Wt=n("spgP"),Jt=n("D0XW"),Qt=n("HDdC"),Zt=n("Cfvw"),Yt=n("LRne"),Xt=n("bHdf");function te(...t){return Object(Xt.a)(1)(Object(Yt.a)(...t))}var ee=n("z+Ro");function ne(...t){const e=t[t.length-1];return Object(ee.a)(e)?(t.pop(),n=>te(t,n,e)):e=>te(t,e)}var re=n("7o/Q");function ie(){return t=>t.lift(new se)}class se{call(t,e){return e.subscribe(new oe(t))}}class oe extends re.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ae=n("lJxs");function ue(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ce(t,e,n))}}class ce{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new le(t,this.accumulator,this.seed,this.hasSeed))}}class le extends re.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class he{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new fe(t,this.compare,this.keySelector))}}class fe extends re.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function de(t,e){return function(n){return n.lift(new pe(t,e))}}class pe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ge(t,this.predicate,this.thisArg))}}class ge extends re.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var me=n("pxpQ"),ye=n("Jgta"),ve=n("zIRd"),be=n("q/0M"),_e=n("qOnz"),we=function(t,e){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ee(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Se,Oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Te=Te||{},Ce=Oe||self;function Ie(){}function xe(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ae(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var je="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function Ne(t,e,n){return t.call.apply(t.bind,arguments)}function De(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Pe(t,e,n){return(Pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:De).apply(null,arguments)}function Re(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Le(){return Date.now()}function Fe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Ve(){this.j=this.j,this.i=this.i}Ve.prototype.j=!1,Ve.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,je)&&t[je]||(t[je]=++ke)}(this)},Ve.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Me=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ue=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function He(t){return Array.prototype.concat.apply([],arguments)}function qe(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ze(t){return/^[\s\xa0]*$/.test(t)}var Be,Ge=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $e(t,e){return-1!=t.indexOf(e)}function Ke(t,e){return t<e?-1:t>e?1:0}t:{var We=Ce.navigator;if(We){var Je=We.userAgent;if(Je){Be=Je;break t}}Be=""}function Qe(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ze(t){var e={};for(var n in t)e[n]=t[n];return e}var Ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xe(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ye.length;s++)n=Ye[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tn(t){return tn[" "](t),t}tn[" "]=Ie;var en,nn,rn=$e(Be,"Opera"),sn=$e(Be,"Trident")||$e(Be,"MSIE"),on=$e(Be,"Edge"),an=on||sn,un=$e(Be,"Gecko")&&!($e(Be.toLowerCase(),"webkit")&&!$e(Be,"Edge"))&&!($e(Be,"Trident")||$e(Be,"MSIE"))&&!$e(Be,"Edge"),cn=$e(Be.toLowerCase(),"webkit")&&!$e(Be,"Edge");function ln(){var t=Ce.document;return t?t.documentMode:void 0}t:{var hn="",fn=(nn=Be,un?/rv:([^\);]+)(\)|;)/.exec(nn):on?/Edge\/([\d\.]+)/.exec(nn):sn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(nn):cn?/WebKit\/(\S+)/.exec(nn):rn?/(?:Version)[ \/]?(\S+)/.exec(nn):void 0);if(fn&&(hn=fn?fn[1]:""),sn){var dn=ln();if(null!=dn&&dn>parseFloat(hn)){en=String(dn);break t}}en=hn}var pn={};function gn(t){return function(t,e){var n=pn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ge(String(en)).split("."),r=Ge(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ke(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ke(0==o[2].length,0==a[2].length)||Ke(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var mn=Ce.document&&sn&&(ln()||parseInt(en,10))||void 0,yn=!sn||9<=Number(mn),vn=sn&&!gn("9"),bn=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",Ie,e),Ce.removeEventListener("test",Ie,e)}catch(n){}return t}();function _n(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wn(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(un){t:{try{tn(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:En[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}_n.prototype.b=function(){this.defaultPrevented=!0},Fe(wn,_n);var En={2:"touch",3:"pen",4:"mouse"};wn.prototype.b=function(){wn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,vn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Sn="closure_listenable_"+(1e6*Math.random()|0),On=0;function Tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++On,this.Y=this.Z=!1}function Cn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function In(t){this.src=t,this.a={},this.b=0}function xn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Me(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Cn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function An(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}In.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=An(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Tn(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var jn="closure_lm_"+(1e6*Math.random()|0),kn={};function Nn(t,e,n,r,i){if(r&&r.once)return Pn(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nn(t,e[s],n,r,i);return null}return n=qn(n),t&&t[Sn]?t.va(e,n,Ae(r)?!!r.capture:!!r,i):Dn(t,e,n,!1,r,i)}function Dn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ae(i)?!!i.capture:!!i;if(o&&!yn)return null;var a=Un(t);if(a||(t[jn]=a=new In(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Mn,e=yn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bn||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Pn(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Pn(t,e[s],n,r,i);return null}return n=qn(n),t&&t[Sn]?t.wa(e,n,Ae(r)?!!r.capture:!!r,i):Dn(t,e,n,!0,r,i)}function Rn(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Rn(t,e[s],n,r,i);else r=Ae(r)?!!r.capture:!!r,n=qn(n),t&&t[Sn]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=An(s=t.a[e],n,r,i))&&(Cn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Un(t))&&(e=t.a[e.toString()],t=-1,e&&(t=An(e,n,r,i)),(n=-1<t?e[t]:null)&&Ln(n))}function Ln(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Sn])xn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Un(e))?(xn(n,t),0==n.b&&(n.src=null,e[jn]=null)):Cn(t)}}}function Fn(t){return t in kn?kn[t]:kn[t]="on"+t}function Vn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ln(t),n.call(r,e)}function Mn(t,e){if(t.Y)return!0;if(!yn){if(!e)t:{e=["window","event"];for(var n=Ce,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Vn(t,e=new wn(e,this))}return Vn(t,new wn(e,this))}function Un(t){return(t=t[jn])instanceof In?t:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(t){return"function"==typeof t?t:(t[Hn]||(t[Hn]=function(e){return t.handleEvent(e)}),t[Hn])}function zn(){Ve.call(this),this.c=new In(this),this.J=this,this.C=null}function Bn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new _n(e,t);else if(e instanceof _n)e.target=e.target||t;else{var i=e;Xe(e=new _n(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Gn(o,r,!0,e)&&i}if(i=Gn(o=e.a=t,r,!0,e)&&i,i=Gn(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Gn(o=e.a=n[s],r,!1,e)&&i}function Gn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&xn(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Fe(zn,Ve),zn.prototype[Sn]=!0,(Se=zn.prototype).addEventListener=function(t,e,n,r){Nn(this,t,e,n,r)},Se.removeEventListener=function(t,e,n,r){Rn(this,t,e,n,r)},Se.G=function(){if(zn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Cn(n[r]);delete e.a[t],e.b--}}this.C=null},Se.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Se.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var $n=Ce.JSON.stringify;function Kn(){this.b=this.a=null}var Wn,Jn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Zn},function(t){t.reset()});function Qn(){var t=er,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Zn(){this.next=this.b=this.a=null}function Yn(t){Ce.setTimeout(function(){throw t},0)}function Xn(t,e){Wn||function(){var t=Ce.Promise.resolve(void 0);Wn=function(){t.then(nr)}}(),tr||(Wn(),tr=!0),er.add(t,e)}Kn.prototype.add=function(t,e){var n=Jn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Zn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Zn.prototype.reset=function(){this.next=this.b=this.a=null};var tr=!1,er=new Kn;function nr(){for(var t;t=Qn();){try{t.a.call(t.b)}catch(n){Yn(n)}var e=Jn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}tr=!1}function rr(t,e){zn.call(this),this.b=t||1,this.a=e||Ce,this.f=Pe(this.Za,this),this.g=Le()}function ir(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function sr(t,e,n){if("function"==typeof t)n&&(t=Pe(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pe(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function or(t){t.a=sr(function(){t.a=null,t.c&&(t.c=!1,or(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Fe(rr,zn),(Se=rr.prototype).aa=!1,Se.M=null,Se.Za=function(){if(this.aa){var t=Le()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Bn(this,"tick"),this.aa&&(ir(this),this.start()))}},Se.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Le())},Se.G=function(){rr.X.G.call(this),ir(this),delete this.a};var ar=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:or(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ce.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ve);function ur(t){Ve.call(this),this.b=t,this.a={}}Fe(ur,Ve);var cr=[];function lr(t,e,n,r){Array.isArray(n)||(n&&(cr[0]=n.toString()),n=cr);for(var i=0;i<n.length;i++){var s=Nn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function hr(t){Qe(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ln(t)},t),t.a={}}function fr(){this.a=!0}function dr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return $n(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ur.prototype.G=function(){ur.X.G.call(this),hr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fr.prototype.info=function(){};var pr={},gr=null;function mr(){return gr=gr||new zn}function yr(t){_n.call(this,pr.Fa,t)}function vr(t){var e=mr();Bn(e,new yr(e,t))}function br(t,e){_n.call(this,pr.STAT_EVENT,t),this.stat=e}function _r(t){var e=mr();Bn(e,new br(e,t))}function wr(t){_n.call(this,pr.Ga,t)}function Er(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}pr.Fa="serverreachability",Fe(yr,_n),pr.STAT_EVENT="statevent",Fe(br,_n),pr.Ga="timingevent",Fe(wr,_n);var Sr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Or={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Tr(){}function Cr(){}Tr.prototype.a=null;var Ir,xr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ar(){_n.call(this,"d")}function jr(){_n.call(this,"c")}function kr(){}function Nr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ur(this),this.P=Dr,this.R=new rr(t=an?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Fe(Ar,_n),Fe(jr,_n),Fe(kr,Tr),Ir=new kr;var Dr=45e3,Pr={},Rr={};function Lr(t,e,n){t.H=1,t.i=ii(Yr(e)),t.j=n,t.I=!0,Fr(t,null)}function Fr(t,e){t.u=Le(),Ur(t),t.l=Yr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),yi(n.b,"t",r),t.D=0,t.a=hs(t.g,t.g.C?e:null),0<t.O&&(t.F=new ar(Pe(t.Ca,t,t.a),t.O)),lr(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ze(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),vr(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Vr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Mr(t,n);if(i==Rr){4==e&&(t.h=4,_r(14),r=!1),dr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Pr){t.h=4,_r(15),dr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}dr(t.c,t.f,i,null),Gr(t,i)}4==e&&0==n.length&&(t.h=1,_r(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rs(e),e.F=!0,_r(11))):(dr(t.c,t.f,n,"[Invalid Chunked Response]"),Br(t),zr(t))}function Mr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Rr:(n=Number(e.substring(n,r)),isNaN(n)?Pr:(r+=1)+n>e.length?Rr:(e=e.substr(r,n),t.D=r+n,e))}function Ur(t){t.T=Le()+t.P,Hr(t,t.P)}function Hr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Er(Pe(t.Va,t),e)}function qr(t){t.o&&(Ce.clearTimeout(t.o),t.o=null)}function zr(t){0==t.g.v||t.A||os(t.g,t)}function Br(t){qr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ir(t.R),hr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Gr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Oi(n.b,t)))if(n.I=t.N,!t.C&&Oi(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Zp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ss(n),Wi(n)}ns(n),_r(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Er(Pe(n.Sa,n),6e3));if(1>=Si(n.b)&&n.ea){try{n.ea()}catch(Zp){}n.ea=void 0}}else us(n,11)}else if((t.C||n.a==t)&&ss(n),!ze(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&($e(l,"spdy")||$e(l,"quic")||$e(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ti(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ri(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Le()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ls(u,u.C?u.ga:null,u.fa),d.C){Ci(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(qr(p),Ur(p)),u.a=d}else es(u);0<n.g.length&&Zi(n)}else"stop"!=i[0]&&"close"!=i[0]||us(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?us(n,7):Ki(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);vr(4)}catch(Zp){}}function $r(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(xe(t)||"string"==typeof t)Ue(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(xe(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(xe(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Kr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Kr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Jr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Jr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Jr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Se=Nr.prototype).setTimeout=function(t){this.P=t},Se.Xa=function(t){t=t.target;var e=this.F;e&&3==zi(t)?e.f():this.Ca(t)},Se.Ca=function(t){try{if(t==this.a)t:{var e=zi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!an&&!this.a.$())){this.A||4!=e||7==n||vr(8==n||0>=r?3:2),qr(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ze(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,_r(12),Br(this),zr(this);break t}dr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gr(this,u)}this.I?(Vr(this,e,s),an&&this.b&&3==e&&(lr(this.J,this.R,"tick",this.Wa),this.R.start())):(dr(this.c,this.f,s,null),Gr(this,s)),4==e&&Br(this),this.b&&!this.A&&(4==e?os(this.g,this):(this.b=!1,Ur(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,_r(12)):(this.h=0,_r(13)),Br(this),zr(this)}}}catch(c){}},Se.Wa=function(){if(this.a){var t=zi(this.a),e=this.a.$();this.D<e.length&&(qr(this),Vr(this,t,e),this.b&&4!=t&&Ur(this))}},Se.cancel=function(){this.A=!0,Br(this)},Se.Va=function(){this.o=null;var t=Le();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(vr(3),_r(17)),Br(this),this.h=2,zr(this)):Hr(this,this.T-t)},(Se=Kr.prototype).K=function(){Wr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Se.L=function(){return Wr(this),this.a.concat()},Se.get=function(t,e){return Jr(this.b,t)?this.b[t]:e},Se.set=function(t,e){Jr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Se.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Qr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Zr){this.a=void 0!==e?e:t.a,Xr(this,t.f),this.j=t.j,ti(this,t.c),ei(this,t.h),this.g=t.g,e=t.b;var n=new di;n.c=e.c,e.a&&(n.a=new Kr(e.a),n.b=e.b),ni(this,n),this.i=t.i}else t&&(n=String(t).match(Qr))?(this.a=!!e,Xr(this,n[1]||"",!0),this.j=si(n[2]||""),ti(this,n[3]||"",!0),ei(this,n[4]),this.g=si(n[5]||"",!0),ni(this,n[6]||"",!0),this.i=si(n[7]||"")):(this.a=!!e,this.b=new di(null,this.a))}function Yr(t){return new Zr(t)}function Xr(t,e,n){t.f=n?si(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ti(t,e,n){t.c=n?si(e,!0):e}function ei(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ni(t,e,n){e instanceof di?(t.b=e,function(t,e){e&&!t.f&&(pi(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gi(this,e),yi(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=oi(e,hi)),t.b=new di(e,t.a))}function ri(t,e,n){t.b.set(e,n)}function ii(t){return ri(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Le()).toString(36)),t}function si(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ai),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ai(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Zr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(oi(e,ui,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(oi(e,ui,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(oi(n,"/"==n.charAt(0)?li:ci,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",oi(n,fi)),t.join("")};var ui=/[#\/\?@]/g,ci=/[#\?:]/g,li=/[#\?]/g,hi=/[#\?@]/g,fi=/#/g;function di(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pi(t){t.a||(t.a=new Kr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gi(t,e){pi(t),e=vi(t,e),Jr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Jr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Wr(t)))}function mi(t,e){return pi(t),e=vi(t,e),Jr(t.a.b,e)}function yi(t,e,n){gi(t,e),0<n.length&&(t.c=null,t.a.set(vi(t,e),qe(n)),t.b+=n.length)}function vi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Se=di.prototype).add=function(t,e){pi(this),this.c=null,t=vi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Se.forEach=function(t,e){pi(this),this.a.forEach(function(n,r){Ue(n,function(n){t.call(e,n,r,this)},this)},this)},Se.L=function(){pi(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Se.K=function(t){pi(this);var e=[];if("string"==typeof t)mi(this,t)&&(e=He(e,this.a.get(vi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=He(e,t[n])}return e},Se.set=function(t,e){return pi(this),this.c=null,mi(this,t=vi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Se.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Se.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var bi=function(){return function(t,e){this.b=t,this.a=e}}();function _i(t){this.g=t||wi,t=Ce.PerformanceNavigationTiming?0<(t=Ce.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ce.ia&&Ce.ia.ya&&Ce.ia.ya()&&Ce.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wi=10;function Ei(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Si(t){return t.b?1:t.a?t.a.size:0}function Oi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ti(t,e){t.a?t.a.add(e):t.b=e}function Ci(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ii(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ee(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qe(t.c)}function xi(){}function Ai(){this.a=new xi}function ji(t,e,n){var r=n||"";try{$r(t,function(t,n){var i=t;Ae(t)&&(i=$n(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Vg){throw e.push(r+"type="+encodeURIComponent("_badmap")),Vg}}function ki(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}_i.prototype.cancel=function(){var t,e;if(this.c=Ii(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ee(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},xi.prototype.stringify=function(t){return Ce.JSON.stringify(t,void 0)},xi.prototype.parse=function(t){return Ce.JSON.parse(t,void 0)};var Ni=Ce.JSON.parse;function Di(t){zn.call(this),this.headers=new Kr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pi,this.D=this.F=!1}Fe(Di,zn);var Pi="",Ri=/^https?$/i,Li=["POST","PUT"];function Fi(t){return"content-type"==t.toLowerCase()}function Vi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Mi(t),Hi(t)}function Mi(t){t.u||(t.u=!0,Bn(t,"complete"),Bn(t,"error"))}function Ui(t){if(t.b&&void 0!==Te&&(!t.s[1]||4!=zi(t)||2!=t.W()))if(t.l&&4==zi(t))sr(t.za,0,t);else if(Bn(t,"readystatechange"),4==zi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Qr)[1]||null;if(!s&&Ce.self&&Ce.self.location){var o=Ce.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ri.test(s?s.toLowerCase():"")}e=i}if(e)Bn(t,"complete"),Bn(t,"success");else{t.h=6;try{var a=2<zi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Mi(t)}}finally{Hi(t)}}}function Hi(t,e){if(t.a){qi(t);var n=t.a,r=t.s[0]?Ie:null;t.a=null,t.s=null,e||Bn(t,"ready");try{n.onreadystatechange=r}catch(Vg){}}}function qi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ce.clearTimeout(t.m),t.m=null)}function zi(t){return t.a?t.a.readyState:0}function Bi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qe(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ri(t,e,n))}function Gi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $i(t){this.pa=0,this.g=[],this.c=new fr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Gi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Gi("baseRetryDelayMs",5e3,t),this.Ra=Gi("retryDelaySeedMs",1e4,t),this.Ma=Gi("forwardChannelMaxRetries",2,t),this.ma=Gi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new _i(t&&t.concurrentRequestLimit),this.ka=new Ai,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ki(t){if(Ji(t),3==t.v){var e=t.R++,n=Yr(t.B);ri(n,"SID",t.J),ri(n,"RID",e),ri(n,"TYPE","terminate"),Xi(t,n),(e=new Nr(t,t.c,e,void 0)).H=2,e.i=ii(Yr(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(n=Ce.navigator.sendBeacon(e.i.toString(),"")),!n&&Ce.Image&&((new Image).src=e.i,n=!0),n||(e.a=hs(e.g,null),e.a.ba(e.i)),e.u=Le(),Ur(e)}cs(t)}function Wi(t){t.a&&(rs(t),t.a.cancel(),t.a=null)}function Ji(t){Wi(t),t.j&&(Ce.clearTimeout(t.j),t.j=null),ss(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ce.clearTimeout(t.h),t.h=null)}function Qi(t,e){t.g.push(new bi(t.Oa++,e)),3==t.v&&Zi(t)}function Zi(t){Ei(t.b)||t.h||(t.h=!0,Xn(t.Ba,t),t.u=0)}function Yi(t,e){var n;n=e?e.f:t.R++;var r=Yr(t.B);ri(r,"SID",t.J),ri(r,"RID",n),ri(r,"AID",t.P),Xi(t,r),t.i&&t.l&&Bi(r,t.i,t.l),n=new Nr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ts(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ti(t.b,n),Lr(n,r,e)}function Xi(t,e){t.f&&$r({},function(t,n){ri(e,n,t)})}function ts(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Pe(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{ji(l,o,"req"+c+"_")}catch(Ks){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function es(t){t.a||t.j||(t.T=1,Xn(t.Aa,t),t.o=0)}function ns(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Er(Pe(t.Aa,t),as(t,t.o)),t.o++,0))}function rs(t){null!=t.s&&(Ce.clearTimeout(t.s),t.s=null)}function is(t){t.a=new Nr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Yr(t.la);ri(e,"RID","rpc"),ri(e,"SID",t.J),ri(e,"CI",t.H?"0":"1"),ri(e,"AID",t.P),Xi(t,e),ri(e,"TYPE","xmlhttp"),t.i&&t.l&&Bi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ii(Yr(e)),n.j=null,n.I=!0,Fr(n,t)}function ss(t){null!=t.m&&(Ce.clearTimeout(t.m),t.m=null)}function os(t,e){var n=null;if(t.a==e){ss(t),rs(t),t.a=null;var r=2}else{if(!Oi(t.b,e))return;n=e.s,Ci(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Le()-e.u;var i=t.u;Bn(r=mr(),new wr(r,n,e,i)),Zi(t)}else es(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Si(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Er(Pe(t.Ba,t,e),as(t,t.u)),t.u++,0)))}(t,e)||2==r&&ns(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}function as(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function us(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Pe(t.Ya,t);n||(n=new Zr("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Xr(n,"https"),ii(n)),function(t,e){var n=new fr;if(Ce.Image){var r=new Image;r.onload=Re(ki,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Re(ki,n,r,"TestLoadImage: error",!1,e),r.onabort=Re(ki,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Re(ki,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _r(2);t.v=0,t.f&&t.f.ra(e),cs(t),Ji(t)}function cs(t){t.v=0,t.I=-1,t.f&&(0==Ii(t.b).length&&0==t.g.length||(t.b.c.length=0,qe(t.g),t.g.length=0),t.f.qa())}function ls(t,e,n){var r=function(t){return t instanceof Zr?Yr(t):new Zr(t,void 0)}(n);if(""!=r.c)e&&ti(r,e+"."+r.c),ei(r,r.h);else{var i=Ce.location;r=function(t,e,n,r){var i=new Zr(null,void 0);return t&&Xr(i,t),e&&ti(i,e),n&&ei(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qe(t.V,function(t,e){ri(r,e,t)}),n=t.na,(e=t.A)&&n&&ri(r,e,n),ri(r,"VER",t.ha),Xi(t,r),r}function hs(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(t.Na)).F=t.C,e}function fs(){}function ds(){if(sn&&!(10<=Number(mn)))throw Error("Environmental error: no available transport.")}function ps(t,e){zn.call(this),this.a=new $i(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ze(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ze(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ys(this)}function gs(t){Ar.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ms(){jr.call(this),this.status=1}function ys(t){this.a=t}(Se=Di.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ir),this.a.onreadystatechange=Pe(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Vi(this,s)}t=n||"";var i=new Kr(this.headers);r&&$r(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Fi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ce.FormData&&t instanceof Ce.FormData,!(0<=Me(Li,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qi(this),0<this.o&&((this.D=function(t){return sn&&gn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Pe(this.xa,this)):this.m=sr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Vi(this,s)}},Se.xa=function(){void 0!==Te&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Bn(this,"timeout"),this.abort(8))},Se.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Bn(this,"complete"),Bn(this,"abort"),Hi(this))},Se.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hi(this,!0)),Di.X.G.call(this)},Se.za=function(){this.j||(this.A||this.l||this.g?Ui(this):this.Ua())},Se.Ua=function(){Ui(this)},Se.W=function(){try{return 2<zi(this)?this.a.status:-1}catch(nn){return-1}},Se.$=function(){try{return this.a?this.a.responseText:""}catch(nn){return""}},Se.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ni(e)}},Se.ua=function(){return this.h},Se.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Se=$i.prototype).ha=8,Se.v=1,Se.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Nr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xe(r=Ze(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ts(this,n,e),ri(i=Yr(this.B),"RID",t),ri(i,"CVER",22),this.A&&ri(i,"X-HTTP-Session-Id",this.A),Xi(this,i),this.i&&r&&Bi(i,this.i,r),Ti(this.b,n),this.Ia&&ri(i,"TYPE","init"),this.da?(ri(i,"$req",e),ri(i,"SID","null"),n.U=!0,Lr(n,i,null)):Lr(n,i,e),this.v=2}}else 3==this.v&&(t?Yi(this,t):0==this.g.length||Ei(this.b)||Yi(this))},Se.Aa=function(){if(this.j=null,is(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Er(Pe(this.Ta,this),t)}},Se.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_r(10),Wi(this),is(this))},Se.Sa=function(){null!=this.m&&(this.m=null,Wi(this),ns(this),_r(19))},Se.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),_r(2)):(this.c.info("Failed to ping google.com"),_r(1))},(Se=fs.prototype).ta=function(){},Se.sa=function(){},Se.ra=function(){},Se.qa=function(){},Se.Ja=function(){},ds.prototype.a=function(t,e){return new ps(t,e)},Fe(ps,zn),ps.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;_r(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ls(t,null,t.fa),Zi(t)},ps.prototype.close=function(){Ki(this.a)},ps.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Qi(this.a,e)}else this.l?((e={}).__data__=$n(t),Qi(this.a,e)):Qi(this.a,t)},ps.prototype.G=function(){this.a.f=null,delete this.f,Ki(this.a),delete this.a,ps.X.G.call(this)},Fe(gs,Ar),Fe(ms,jr),Fe(ys,fs),ys.prototype.ta=function(){Bn(this.a,"a")},ys.prototype.sa=function(t){Bn(this.a,new gs(t))},ys.prototype.ra=function(t){Bn(this.a,new ms(t))},ys.prototype.qa=function(){Bn(this.a,"b")},ds.prototype.createWebChannel=ds.prototype.a,ps.prototype.send=ps.prototype.h,ps.prototype.open=ps.prototype.g,ps.prototype.close=ps.prototype.close,Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Or.COMPLETE="complete",Cr.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",zn.prototype.listen=zn.prototype.va,Di.prototype.listenOnce=Di.prototype.wa,Di.prototype.getLastError=Di.prototype.Qa,Di.prototype.getLastErrorCode=Di.prototype.ua,Di.prototype.getStatus=Di.prototype.W,Di.prototype.getResponseJson=Di.prototype.Pa,Di.prototype.getResponseText=Di.prototype.$,Di.prototype.send=Di.prototype.ba;var vs=Sr,bs=Or,_s=pr,ws=Cr,Es=Di,Ss=n("os0x"),Os=new be.b("@firebase/firestore");function Ts(){return Os.logLevel}function Cs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Os.logLevel<=be.a.DEBUG){var r=e.map(As);Os.debug.apply(Os,Object(Ss.g)(["Firestore (8.2.2): "+t],r))}}function Is(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Os.logLevel<=be.a.ERROR){var r=e.map(As);Os.error.apply(Os,Object(Ss.g)(["Firestore (8.2.2): "+t],r))}}function xs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Os.logLevel<=be.a.WARN){var r=e.map(As);Os.warn.apply(Os,Object(Ss.g)(["Firestore (8.2.2): "+t],r))}}function As(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Vg){return t}}function js(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw Is(e),new Error(e)}function ks(t,e){t||js()}function Ns(t,e){return t}function Ds(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ps=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ds(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Rs(t,e){return t<e?-1:t>e?1:0}function Ls(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Fs(t){return t+"\0"}var Vs=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Rs(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Vs.h=new Vs("");var Ms={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Us=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ss.c)(e,t),e}(Error),Hs=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Vs.fromBase64String(e))}catch(e){throw new Us(Ms.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Vs.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),qs=function(t){this._=t};function zs(){if("undefined"==typeof Uint8Array)throw new Us(Ms.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bs(){if("undefined"==typeof atob)throw new Us(Ms.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.fromBase64String=function(t){return Bs(),new e(Hs.fromBase64String(t))},e.fromUint8Array=function(t){return zs(),new e(Hs.fromUint8Array(t))},e.prototype.toBase64=function(){return Bs(),this._.toBase64()},e.prototype.toUint8Array=function(){return zs(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(qs),$s=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},Ks=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ws=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ws.UNAUTHENTICATED=new Ws(null),Ws.P=new Ws("google-credentials-uid"),Ws.g=new Ws("first-party-uid");var Js=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Qs=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ws.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Zs=function(){function t(t){var e=this;this.C=null,this.currentUser=Ws.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(Cs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ks("string"==typeof n.accessToken),new Js(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return ks(null===t||"string"==typeof t),new Ws(t)},t}(),Ys=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ws.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Xs=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ys(this.k,this.M))},t.prototype.S=function(t){t(Ws.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),to=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();to.U=-1;var eo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Us(Ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Us(Ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Us(Ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Us(Ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Rs(this.nanoseconds,t.nanoseconds):Rs(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),no=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new eo(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),ro=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&js(),void 0===n?n=t.length-e:n>t.length-e&&js(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Us(Ms.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(ro),so=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return so.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Us(Ms.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Us(Ms.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Us(Ms.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Us(Ms.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(ro),ao=function(){function t(t){this.path=t}return t.ft=function(e){return new t(io.ct(e))},t.dt=function(e){return new t(io.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===io.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return io.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new io(e.slice()))},t}();function uo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ho=function(){function t(t){this.fields=t,t.sort(oo.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Ls(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(ks(!!t),"string"==typeof t){var e=0,n=fo.exec(t);if(ks(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:go(t.seconds),nanos:go(t.nanos)}}function go(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mo(t){return"string"==typeof t?Vs.fromBase64String(t):Vs.fromUint8Array(t)}function yo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vo(t){var e=t.mapValue.fields.__previous_value__;return yo(e)?vo(e):e}function bo(t){var e=po(t.mapValue.fields.__local_write_time__.timestampValue);return new eo(e.seconds,e.nanos)}function _o(t){return null==t}function wo(t){return 0===t&&1/t==-1/0}function Eo(t){return"number"==typeof t&&Number.isInteger(t)&&!wo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yo(t)?4:10:js()}function Oo(t,e){var n=So(t);if(n!==So(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bo(t).isEqual(bo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=po(t.timestampValue),r=po(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return mo(t.bytesValue).isEqual(mo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return go(t.geoPointValue.latitude)===go(e.geoPointValue.latitude)&&go(t.geoPointValue.longitude)===go(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return go(t.integerValue)===go(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=go(t.doubleValue),r=go(e.doubleValue);return n===r?wo(n)===wo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(uo(n)!==uo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oo(n[i],r[i])))return!1;return!0}(t,e);default:return js()}}function To(t,e){return void 0!==(t.values||[]).find(function(t){return Oo(t,e)})}function Co(t,e){var n=So(t),r=So(e);if(n!==r)return Rs(n,r);switch(n){case 0:return 0;case 1:return Rs(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=go(t.integerValue||t.doubleValue),r=go(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Io(t.timestampValue,e.timestampValue);case 4:return Io(bo(t),bo(e));case 5:return Rs(t.stringValue,e.stringValue);case 6:return function(t,e){var n=mo(t),r=mo(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Rs(n[i],r[i]);if(0!==s)return s}return Rs(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Rs(go(t.latitude),go(e.latitude));return 0!==n?n:Rs(go(t.longitude),go(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Co(n[i],r[i]);if(s)return s}return Rs(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Rs(r[o],s[o]);if(0!==a)return a;var u=Co(n[r[o]],i[s[o]]);if(0!==u)return u}return Rs(r.length,s.length)}(t.mapValue,e.mapValue);default:throw js()}}function Io(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Rs(t,e);var n=po(t),r=po(e),i=Rs(n.seconds,r.seconds);return 0!==i?i:Rs(n.nanos,r.nanos)}function xo(t){return Ao(t)}function Ao(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=po(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mo(t.bytesValue).toBase64():"referenceValue"in t?ao.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ao(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Ao(t.fields[s])}return e+"}"}(t.mapValue):js();var e}function jo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ko(t){return!!t&&"integerValue"in t}function No(t){return!!t&&"arrayValue"in t}function Do(t){return!!t&&"nullValue"in t}function Po(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ro(t){return!!t&&"mapValue"in t}var Lo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ro(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Oo(this.proto,t.proto)},t}(),Fo=function(){function t(t){void 0===t&&(t=Lo.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===So(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(oo.at(),this.Rt);return null!=t?new Lo(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Ro(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Vo(t){var e=[];return co(t.fields||{},function(t,n){var r=new oo([t]);if(Ro(n)){var i=Vo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new ho(e)}var Mo=function(t,e){this.key=t,this.version=e},Uo=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Ss.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Mo),Ho=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ss.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Mo),qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Mo),zo=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function Bo(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new zo(t,e,n,r,i,s,o)}function Go(t){var e=Ns(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+xo(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),_o(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ia(e.startAt)),e.endAt&&(n+="|ub:",n+=ia(e.endAt)),e.St=n}return e.St}function $o(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!oa(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Oo(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ua(t.startAt,e.startAt)&&ua(t.endAt,e.endAt)}function Ko(t){return ao.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Wo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ss.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Jo(t,n,r):"array-contains"===n?new Xo(t,r):"in"===n?new ta(t,r):"not-in"===n?new ea(t,r):"array-contains-any"===n?new na(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Qo(t,n):new Zo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Co(e,this.value)):null!==e&&So(this.value)===So(e)&&this.Ct(Co(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return js()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Jo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ao.dt(r.referenceValue),i}return Object(Ss.c)(e,t),e.prototype.matches=function(t){var e=ao.J(t.key,this.key);return this.Ct(e)},e}(Wo),Qo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Yo(0,n),r}return Object(Ss.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Wo),Zo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Yo(0,n),r}return Object(Ss.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Wo);function Yo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ao.dt(t.referenceValue)})}var Xo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ss.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return No(e)&&To(e.arrayValue,this.value)},e}(Wo),ta=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ss.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&To(this.value.arrayValue,e)},e}(Wo),ea=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ss.c)(e,t),e.prototype.matches=function(t){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!To(this.value.arrayValue,e)},e}(Wo),na=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ss.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!No(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return To(e.value.arrayValue,t)})},e}(Wo),ra=function(t,e){this.position=t,this.before=e};function ia(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return xo(t)}).join(",")}var sa=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function oa(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function aa(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?ao.J(ao.dt(o.referenceValue),n.key):Co(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ua(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Oo(t.position[n],e.position[n]))return!1;return!0}var ca=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ot=null,this.Ft=null};function la(t,e,n,r,i,s,o,a){return new ca(t,e,n,r,i,s,o,a)}function ha(t){return new ca(t)}function fa(t){return!_o(t.limit)&&"F"===t.limitType}function da(t){return!_o(t.limit)&&"L"===t.limitType}function pa(t){return t.Nt.length>0?t.Nt[0].field:null}function ga(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function ma(t){return null!==t.collectionGroup}function ya(t){var e=Ns(t);if(null===e.Ot){e.Ot=[];var n=ga(e),r=pa(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new sa(n)),e.Ot.push(new sa(oo.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new sa(oo.lt(),u))}}}return e.Ot}function va(t){var e=Ns(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Bo(e.path,e.collectionGroup,ya(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ya(e);r<i.length;r++){var s=i[r];n.push(new sa(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new ra(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ra(e.startAt.position,!e.startAt.before):null;e.Ft=Bo(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ft}function ba(t,e,n){return new ca(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _a(t,e){return $o(va(t),va(e))&&t.limitType===e.limitType}function wa(t){return Go(va(t))+"|lt:"+t.limitType}function Ea(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+xo(e.value);var e}).join(", ")+"]"),_o(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ia(t.startAt)),t.endAt&&(e+=", endAt: "+ia(t.endAt)),"Target("+e+")"}(va(t))+"; limitType="+t.limitType+")"}function Sa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):ao.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!aa(t.startAt,ya(t),e)||t.endAt&&aa(t.endAt,ya(t),e))}(t,e)}function Oa(t){return function(e,n){for(var r=!1,i=0,s=ya(t);i<s.length;i++){var o=s[i],a=Ta(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function Ta(t,e,n){var r=t.field.ht()?ao.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Co(r,i):js()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return js()}}var Ca=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=no.min()),void 0===s&&(s=no.min()),void 0===o&&(o=Vs.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ia(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wo(e)?"-0":e}}function xa(t){return{integerValue:""+t}}function Aa(t,e){return Eo(e)?xa(e):Ia(t,e)}var ja=function(){this.Ut=void 0};function ka(t,e,n){return t instanceof Pa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ra?La(t,e):t instanceof Fa?Va(t,e):function(t,e){var n=Da(t,e),r=Ua(n)+Ua(t.Qt);return ko(n)&&ko(t.Qt)?xa(r):Ia(t.Kt,r)}(t,e)}function Na(t,e,n){return t instanceof Ra?La(t,e):t instanceof Fa?Va(t,e):n}function Da(t,e){return t instanceof Ma?ko(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e}(ja),Ra=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ss.c)(e,t),e}(ja);function La(t,e){for(var n=Ha(e),r=function(t){n.some(function(e){return Oo(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Fa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ss.c)(e,t),e}(ja);function Va(t,e){for(var n=Ha(e),r=function(t){n=n.filter(function(e){return!Oo(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ma=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Ss.c)(e,t),e}(ja);function Ua(t){return go(t.integerValue||t.doubleValue)}function Ha(t){return No(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qa=function(t,e){this.field=t,this.transform=e},za=function(t,e){this.version=t,this.transformResults=e},Ba=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ga(t,e){return void 0!==t.updateTime?e instanceof Uo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Uo}var $a=function(){};function Ka(t,e,n){return t instanceof Ya?function(t,e,n){var r=t.value;if(n.transformResults){var i=eu(t.fieldTransforms,e,n.transformResults);r=ru(t.fieldTransforms,r,i)}return new Uo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Xa?function(t,e,n){if(!Ga(t.Gt,e))return new qo(t.key,n.version);var r=tu(t,e,n.transformResults?eu(t.fieldTransforms,e,n.transformResults):[]);return new Uo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ho(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Wa(t,e,n,r){return t instanceof Ya?function(t,e,n,r){if(!Ga(t.Gt,e))return e;var i=t.value,s=nu(t.fieldTransforms,n,e);i=ru(t.fieldTransforms,i,s);var o=Za(e);return new Uo(t.key,o,i,{bt:!0})}(t,e,r):t instanceof Xa?function(t,e,n,r){if(!Ga(t.Gt,e))return e;var i=Za(e),s=tu(t,e,nu(t.fieldTransforms,n,e));return new Uo(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return Ga(t.Gt,e)?new Ho(t.key,no.min()):e}(t,e)}function Ja(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Uo?e.field(s.field):void 0,a=Da(s.transform,o||null);null!=a&&(n=null==n?(new Fo).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Qa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ls(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ra&&e instanceof Ra||t instanceof Fa&&e instanceof Fa?Ls(t.elements,e.elements,Oo):t instanceof Ma&&e instanceof Ma?Oo(t.Qt,e.Qt):t instanceof Pa&&e instanceof Pa}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Za(t){return t instanceof Uo?t.version:no.min()}var Ya=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(Ss.c)(e,t),e}($a),Xa=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(Ss.c)(e,t),e}($a);function tu(t,e,n){var r;return r=function(t,e){var n=new Fo(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Uo?e.data():Lo.empty()),ru(t.fieldTransforms,r,n)}function eu(t,e,n){var r=[];ks(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Uo&&(a=e.field(s.field)),r.push(Na(o,a,n[i]))}return r}function nu(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Uo&&(c=n.field(a.field)),i.push(ka(u,c,e))}return i}function ru(t,e,n){for(var r=new Fo(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var iu,su,ou=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Ss.c)(e,t),e}($a),au=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Ss.c)(e,t),e}($a),uu=function(t){this.count=t};function cu(t){switch(t){case Ms.OK:return js();case Ms.CANCELLED:case Ms.UNKNOWN:case Ms.DEADLINE_EXCEEDED:case Ms.RESOURCE_EXHAUSTED:case Ms.INTERNAL:case Ms.UNAVAILABLE:case Ms.UNAUTHENTICATED:return!1;case Ms.INVALID_ARGUMENT:case Ms.NOT_FOUND:case Ms.ALREADY_EXISTS:case Ms.PERMISSION_DENIED:case Ms.FAILED_PRECONDITION:case Ms.ABORTED:case Ms.OUT_OF_RANGE:case Ms.UNIMPLEMENTED:case Ms.DATA_LOSS:return!0;default:return js()}}function lu(t){if(void 0===t)return Is("GRPC error has no .code"),Ms.UNKNOWN;switch(t){case iu.OK:return Ms.OK;case iu.CANCELLED:return Ms.CANCELLED;case iu.UNKNOWN:return Ms.UNKNOWN;case iu.DEADLINE_EXCEEDED:return Ms.DEADLINE_EXCEEDED;case iu.RESOURCE_EXHAUSTED:return Ms.RESOURCE_EXHAUSTED;case iu.INTERNAL:return Ms.INTERNAL;case iu.UNAVAILABLE:return Ms.UNAVAILABLE;case iu.UNAUTHENTICATED:return Ms.UNAUTHENTICATED;case iu.INVALID_ARGUMENT:return Ms.INVALID_ARGUMENT;case iu.NOT_FOUND:return Ms.NOT_FOUND;case iu.ALREADY_EXISTS:return Ms.ALREADY_EXISTS;case iu.PERMISSION_DENIED:return Ms.PERMISSION_DENIED;case iu.FAILED_PRECONDITION:return Ms.FAILED_PRECONDITION;case iu.ABORTED:return Ms.ABORTED;case iu.OUT_OF_RANGE:return Ms.OUT_OF_RANGE;case iu.UNIMPLEMENTED:return Ms.UNIMPLEMENTED;case iu.DATA_LOSS:return Ms.DATA_LOSS;default:return js()}}(su=iu||(iu={}))[su.OK=0]="OK",su[su.CANCELLED=1]="CANCELLED",su[su.UNKNOWN=2]="UNKNOWN",su[su.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",su[su.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",su[su.NOT_FOUND=5]="NOT_FOUND",su[su.ALREADY_EXISTS=6]="ALREADY_EXISTS",su[su.PERMISSION_DENIED=7]="PERMISSION_DENIED",su[su.UNAUTHENTICATED=16]="UNAUTHENTICATED",su[su.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",su[su.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",su[su.ABORTED=10]="ABORTED",su[su.OUT_OF_RANGE=11]="OUT_OF_RANGE",su[su.UNIMPLEMENTED=12]="UNIMPLEMENTED",su[su.INTERNAL=13]="INTERNAL",su[su.UNAVAILABLE=14]="UNAVAILABLE",su[su.DATA_LOSS=15]="DATA_LOSS";var hu=function(){function t(t,e){this.J=t,this.root=e||du.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,du.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,du.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new fu(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new fu(this.root,t,this.J,!1)},t.prototype.se=function(){return new fu(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new fu(this.root,t,this.J,!0)},t}(),fu=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),du=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw js();if(this.right._e())throw js();var t=this.left.me();if(t!==this.right.me())throw js();return t+(this._e()?0:1)},t}();du.EMPTY=null,du.RED=!0,du.Jt=!1,du.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw js()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new du(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var pu=function(){function t(t){this.J=t,this.data=new hu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new gu(this.data.ee())},t.prototype.ne=function(t){return new gu(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),gu=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),mu=new hu(ao.J);function yu(){return mu}function vu(){return yu()}var bu=new hu(ao.J);function _u(){return bu}var wu=new hu(ao.J);function Eu(){return wu}var Su=new pu(ao.J);function Ou(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Su,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Tu=new pu(Rs);function Cu(){return Tu}var Iu=function(){function t(t){this.J=t?function(e,n){return t(e,n)||ao.J(e.key,n.key)}:function(t,e){return ao.J(t.key,e.key)},this.Ve=_u(),this.pe=new hu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),xu=function(){function t(){this.ve=new hu(ao.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):js():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Au=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Oe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Iu.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&_a(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ju=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,ku.Be(e,n)),new t(no.min(),r,Cu(),yu(),Ou())},t}(),ku=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Vs.h,n,Ou(),Ou(),Ou())},t}(),Nu=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Du=function(t,e){this.targetId=t,this.Ge=e},Pu=function(t,e,n,r){void 0===n&&(n=Vs.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ru=function(){function t(){this.ze=0,this.He=Vu(),this.Je=Vs.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Ou(),e=Ou(),n=Ou();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:js()}}),new ku(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Vu()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Lu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=yu(),this.fn=Fu(),this.dn=new pu(Rs)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Uo?this.En(r,t.We):t.We instanceof Ho&&this.Tn(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:js()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Ko(i))if(0===n){var s=new ao(i.path);this.Tn(e,s,new Ho(s,no.min()))}else ks(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&Ko(s.target)){var o=new ao(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new Ho(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Ou();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ju(t,n,this.dn,this._n,r);return this._n=yu(),this.fn=Fu(),this.dn=new pu(Rs),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ru,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new pu(Rs),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Cs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ru),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Fu(){return new hu(ao.J)}function Vu(){return new hu(ao.J)}var Mu={asc:"ASCENDING",desc:"DESCENDING"},Uu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hu=function(t,e){this.T=t,this.qt=e};function qu(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zu(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Bu(t,e){return qu(t,e.G())}function Gu(t){return ks(!!t),no.j(function(t){var e=po(t);return new eo(e.seconds,e.nanos)}(t))}function $u(t,e){return function(t){return new io(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Ku(t){var e=io.ct(t);return ks(yc(e)),e}function Wu(t,e){return $u(t.T,e.path)}function Ju(t,e){var n=Ku(e);if(n.get(1)!==t.T.projectId)throw new Us(Ms.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Us(Ms.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new ao(Xu(n))}function Qu(t,e){return $u(t.T,e)}function Zu(t){var e=Ku(t);return 4===e.length?io.at():Xu(e)}function Yu(t){return new io(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Xu(t){return ks(t.length>4&&"documents"===t.get(4)),t.X(5)}function tc(t,e,n){return{name:Wu(t,e),fields:n.proto.mapValue.fields}}function ec(t,e,n){var r=Ju(t,e.name),i=Gu(e.updateTime),s=new Lo({mapValue:{fields:e.fields}});return new Uo(r,i,s,{hasCommittedMutations:!!n})}function nc(t,e){var n;if(e instanceof Ya)n={update:tc(t,e.key,e.value)};else if(e instanceof ou)n={delete:Wu(t,e.key)};else if(e instanceof Xa)n={update:tc(t,e.key,e.data),updateMask:mc(e.zt)};else{if(!(e instanceof au))return js();n={verify:Wu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Pa)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ra)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Fa)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Ma)return{fieldPath:e.field.ot(),increment:n.Qt};throw js()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:js()}(t,e.Gt)),n}function rc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ba.updateTime(Gu(t.updateTime)):void 0!==t.exists?Ba.exists(t.exists):Ba.jt()}(e.currentDocument):Ba.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ks("REQUEST_TIME"===e.setToServerValue),n=new Pa):"appendMissingElements"in e?n=new Ra(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Fa(e.removeAllFromArray.values||[]):"increment"in e?n=new Ma(t,e.increment):js();var r=oo._t(e.fieldPath);return new qa(r,n)}(t,e)}):[];if(e.update){var i=Ju(t,e.update.name),s=new Lo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new ho((t.fieldPaths||[]).map(function(t){return oo._t(t)}))}(e.updateMask);return new Xa(i,s,o,n,r)}return new Ya(i,s,n,r)}if(e.delete){var a=Ju(t,e.delete);return new ou(a,n)}if(e.verify){var u=Ju(t,e.verify);return new au(u,n)}return js()}function ic(t,e){return{documents:[Qu(t,e.path)]}}function sc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Qu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qu(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Po(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NAN"}};if(Do(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Po(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NOT_NAN"}};if(Do(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(t.field),op:hc(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:fc(t.field),direction:lc(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||_o(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=uc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=uc(e.endAt)),n}function oc(t){var e=Zu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ks(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=ac(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new sa(dc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return _o(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=cc(n.startAt));var l=null;return n.endAt&&(l=cc(n.endAt)),la(e,i,a,o,u,"F",c,l)}function ac(t){return t?void 0!==t.unaryFilter?[gc(t)]:void 0!==t.fieldFilter?[pc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ac(t)}).reduce(function(t,e){return t.concat(e)}):js():[]}function uc(t){return{before:t.before,values:t.position}}function cc(t){return new ra(t.values||[],!!t.before)}function lc(t){return Mu[t]}function hc(t){return Uu[t]}function fc(t){return{fieldPath:t.ot()}}function dc(t){return oo._t(t.fieldPath)}function pc(t){return Wo.create(dc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return js()}}(t.fieldFilter.op),t.fieldFilter.value)}function gc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=dc(t.unaryFilter.field);return Wo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=dc(t.unaryFilter.field);return Wo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dc(t.unaryFilter.field);return Wo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dc(t.unaryFilter.field);return Wo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return js()}}function mc(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function yc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var vc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},bc=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&js(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),_c=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new vc,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Sc(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=xc(e.target.error);n.qn.reject(new Sc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Sc(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Cs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Tc(e)},t}(),wc=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(_e.g)())&&Is("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Cs("SimpleDb","Removing database:",t),Cc(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(_e.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Cs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Sc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Us(Ms.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Sc(t,n))},i.onupgradeneeded=function(t){Cs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Cs("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ss.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Ss.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Ss.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=_c.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),bc.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Cs("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ec=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Cc(this.ts.delete())},t}(),Sc=function(t){function e(e,n){var r=this;return(r=t.call(this,Ms.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ss.c)(e,t),e}(Us);function Oc(t){return"IndexedDbTransactionError"===t.name}var Tc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Cs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Cs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Cc(n)},t.prototype.add=function(t){return Cs("SimpleDb","ADD",this.store.name,t,t),Cc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Cc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Cs("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Cs("SimpleDb","DELETE",this.store.name,t),Cc(this.store.delete(t))},t.prototype.count=function(){return Cs("SimpleDb","COUNT",this.store.name),Cc(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Cs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new bc(function(n,r){e.onerror=function(t){var e=xc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new bc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Ec(i),o=e(i.primaryKey,i.value,s);if(o instanceof bc){var a=o.catch(function(t){return s.done(),bc.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return bc.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Cc(t){return new bc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=xc(t.target.error);n(e)}})}var Ic=!1;function xc(t){var e=wc.Kn(Object(_e.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Us("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ic||(Ic=!0,setTimeout(function(){throw r},0)),r}}return t}var Ac=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new vc,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Us(Ms.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function jc(t,e){if(Is("AsyncQueue",e+": "+t),Oc(t))return new Us(Ms.UNAVAILABLE,e+": "+t);throw t}var kc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nc=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function Dc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rc(e)),e=Pc(t.get(n),e);return Rc(e)}function Pc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Rc(t){return t+"\x01\x01"}function Lc(t){var e=t.length;if(ks(e>=2),2===e)return ks("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),io.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&js(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:js()}s=o+2}return new io(r)}var Fc=function(t,e){this.seconds=t,this.nanoseconds=e},Vc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vc.store="owner",Vc.key="owner";var Mc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mc.store="mutationQueues",Mc.keyPath="userId";var Uc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Uc.store="mutations",Uc.keyPath="batchId",Uc.userMutationsIndex="userMutationsIndex",Uc.userMutationsKeyPath=["userId","batchId"];var Hc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Dc(e)]},t.key=function(t,e,n){return[t,Dc(e),n]},t}();Hc.store="documentMutations",Hc.PLACEHOLDER=new Hc;var qc=function(t,e){this.path=t,this.readTime=e},zc=function(t,e){this.path=t,this.version=e},Bc=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Bc.store="remoteDocuments",Bc.readTimeIndex="readTimeIndex",Bc.readTimeIndexPath="readTime",Bc.collectionReadTimeIndex="collectionReadTimeIndex",Bc.collectionReadTimeIndexPath=["parentPath","readTime"];var Gc=function(t){this.byteSize=t};Gc.store="remoteDocumentGlobal",Gc.key="remoteDocumentGlobalKey";var $c=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};$c.store="targets",$c.keyPath="targetId",$c.queryTargetsIndexName="queryTargetsIndex",$c.queryTargetsKeyPath=["canonicalId","targetId"];var Kc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kc.store="targetDocuments",Kc.keyPath=["targetId","path"],Kc.documentTargetsIndex="documentTargetsIndex",Kc.documentTargetsKeyPath=["path","targetId"];var Wc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wc.key="targetGlobalKey",Wc.store="targetGlobal";var Jc=function(t,e){this.collectionId=t,this.parent=e};Jc.store="collectionParents",Jc.keyPath=["collectionId","parent"];var Qc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Qc.store="clientMetadata",Qc.keyPath="clientId";var Zc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Zc.store="bundles",Zc.keyPath="bundleId";var Yc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yc.store="namedQueries",Yc.keyPath="name";var Xc=Object(Ss.g)(Object(Ss.g)(Object(Ss.g)(Object(Ss.g)([Mc.store,Uc.store,Hc.store,Bc.store,$c.store,Vc.store,Wc.store,Kc.store],[Qc.store]),[Gc.store]),[Jc.store]),[Zc.store,Yc.store]),tl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Ss.c)(e,t),e}(Nc);function el(t,e){var n=Ns(t);return wc.Hn(n.bs,e)}var nl=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Ka(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Wa(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Wa(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ou())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ls(this.mutations,t.mutations,function(t,e){return Qa(t,e)})&&Ls(this.baseMutations,t.baseMutations,function(t,e){return Qa(t,e)})},t}(),rl=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){ks(e.mutations.length===r.length);for(var i=Eu(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),il=function(t){this.ks=t};function sl(t,e){if(e.document)return ec(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ao.Tt(e.noDocument.path),r=ll(e.noDocument.readTime);return new Ho(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ao.Tt(e.unknownDocument.path);return r=ll(e.unknownDocument.version),new qo(i,r)}return js()}function ol(t,e,n){var r=al(n),i=e.key.path.Z().rt();if(e instanceof Uo){var s=function(t,e){return{name:Wu(t,e.key),fields:e.vt().mapValue.fields,updateTime:qu(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new Bc(null,null,s,o,r,i)}if(e instanceof Ho){var a=e.key.path.rt(),u=cl(e.version);return o=e.hasCommittedMutations,new Bc(null,new qc(a,u),null,o,r,i)}if(e instanceof qo){var c=e.key.path.rt(),l=cl(e.version);return new Bc(new zc(c,l),null,null,!0,r,i)}return js()}function al(t){var e=t.G();return[e.seconds,e.nanoseconds]}function ul(t){var e=new eo(t[0],t[1]);return no.j(e)}function cl(t){var e=t.G();return new Fc(e.seconds,e.nanoseconds)}function ll(t){var e=new eo(t.seconds,t.nanoseconds);return no.j(e)}function hl(t,e){for(var n=(e.baseMutations||[]).map(function(e){return rc(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return rc(t.ks,e)}),o=eo.fromMillis(e.localWriteTimeMs);return new nl(e.batchId,o,n,s)}function fl(t){var e,n,r=ll(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ll(t.lastLimboFreeSnapshotVersion):no.min();return void 0!==t.query.documents?(ks(1===(n=t.query).documents.length),e=va(ha(Zu(n.documents[0])))):e=function(t){return va(oc(t))}(t.query),new Ca(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Vs.fromBase64String(t.resumeToken))}function dl(t,e){var n,r=cl(e.Mt),i=cl(e.lastLimboFreeSnapshotVersion);n=Ko(e.target)?ic(t.ks,e.target):sc(t.ks,e.target);var s=e.resumeToken.toBase64();return new $c(e.targetId,Go(e.target),r,s,e.sequenceNumber,i,n)}function pl(t){var e=oc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ba(e,e.limit,"L"):e}var gl=function(){function t(){}return t.prototype.Ms=function(t,e){return ml(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ll(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return ml(t).put({bundleId:(n=e).id,createTime:cl(Gu(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return yl(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:pl(e.bundledQuery),readTime:ll(e.readTime)};var e})},t.prototype.Bs=function(t,e){return yl(t).put(function(t){return{name:t.name,readTime:cl(Gu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ml(t){return el(t,Zc.store)}function yl(t){return el(t,Yc.store)}var vl=function(){function t(){this.qs=new bl}return t.prototype.Us=function(t,e){return this.qs.add(e),bc.resolve()},t.prototype.Qs=function(t,e){return bc.resolve(this.qs.getEntries(e))},t}(),bl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new pu(io.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new pu(io.J)).rt()},t}(),_l=function(){function t(){this.Ks=new bl}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var s={collectionId:r,parent:Dc(i)};return wl(t).put(s)}return bc.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Fs(e),""],!1,!0);return wl(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Lc(s.parent))}return n})},t}();function wl(t){return el(t,Jc.store)}var El={js:!1,Ws:0,Gs:0,zs:0},Sl=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Ol(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){if(t.code!==Ms.FAILED_PRECONDITION||t.message!==kc)throw t;return Cs("LocalStore","Unexpectedly lost primary lease"),[2]})})}Sl.Zs=10,Sl.ti=1e3,Sl.ei=new Sl(41943040,Sl.Zs,Sl.ti),Sl.ni=new Sl(-1,0,0);var Tl=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){co(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return lo(this.ri)},t}(),Cl=function(){function t(){this.oi=new Tl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:no.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?bc.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Il(t,e,n){var r=t.store(Uc.store),i=t.store(Hc.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ks(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Hc.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return bc.$n(s).next(function(){return c})}function xl(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw js();e=t.noDocument}return JSON.stringify(e).length}var Al=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return ks(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kl(t).ls({index:Uc.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,s=Nl(t),o=kl(t);return o.add({}).next(function(a){ks("number"==typeof a);for(var u=new nl(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return nc(t.ks,e)}),i=n.mutations.map(function(e){return nc(t.ks,e)});return new Uc(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new pu(function(t,e){return Rs(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Hc.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(g,Hc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),bc.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return kl(t).get(e).next(function(t){return t?(ks(t.userId===n.userId),hl(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?bc.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return kl(t).ls({index:Uc.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ks(e.batchId>=r),s=hl(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kl(t).ls({index:Uc.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kl(t).os(Uc.userMutationsIndex,n).next(function(t){return t.map(function(t){return hl(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=Hc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Nl(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],c=Lc(r[1]);if(a===n.userId&&e.path.isEqual(c))return kl(t).get(u).next(function(t){if(!t)throw js();ks(t.userId===n.userId),s.push(hl(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Si=function(t,e){var n=this,r=new pu(Rs),i=[];return e.forEach(function(e){var s=Hc.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Nl(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=Lc(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),bc.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=Hc.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new pu(Rs);return Nl(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],c=Lc(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(kl(t).get(e).next(function(t){if(null===t)throw js();ks(t.userId===n.userId),r.push(hl(n.Kt,t))}))}),bc.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return Il(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),bc.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return bc.resolve();var r=IDBKeyRange.lowerBound(Hc.prefixForUser(e.userId)),i=[];return Nl(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=Lc(t[1]);i.push(s)}else r.done()}).next(function(){ks(0===i.length)})})},t.prototype.ki=function(t,e){return jl(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Dl(t).get(this.userId).next(function(t){return t||new Mc(e.userId,-1,"")})},t}();function jl(t,e,n){var r=Hc.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Nl(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function kl(t){return el(t,Uc.store)}function Nl(t){return el(t,Hc.store)}function Dl(t){return el(t,Mc.store)}var Pl=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Rl=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new Pl(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return no.j(new eo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Ll(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return ks(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return Ll(t).ls(function(o,a){var u=fl(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Yi(t,u)))}).next(function(){return bc.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return Ll(t).ls(function(t,n){var r=fl(n);e(r)})},t.prototype.Ui=function(t){return Fl(t).get(Wc.key).next(function(t){return ks(null!==t),t})},t.prototype.Qi=function(t,e){return Fl(t).put(Wc.key,e)},t.prototype.zi=function(t,e){return Ll(t).put(dl(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Go(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ll(t).ls({range:r,index:$c.queryTargetsIndexName},function(t,n,r){var s=fl(n);$o(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],s=Vl(t);return e.forEach(function(e){var o=Dc(e.path);i.push(s.put(new Kc(n,o))),i.push(r.Ii.sr(t,n,e))}),bc.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Vl(t);return bc.forEach(e,function(e){var s=Dc(e.path);return bc.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Vl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vl(t),i=Ou();return r.ls({range:n,hs:!0},function(t,e,n){var r=Lc(t[1]),s=new ao(r);i=i.add(s)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=Dc(e.path),r=IDBKeyRange.bound([n],[Fs(n)],!1,!0),i=0;return Vl(t).ls({index:Kc.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Ll(t).get(e).next(function(t){return t?fl(t):null})},t}();function Ll(t){return el(t,$c.store)}function Fl(t){return el(t,Wc.store)}function Vl(t){return el(t,Kc.store)}function Ml(t,e){var n=t[1],r=e[1],i=Rs(t[0],e[0]);return 0===i?Rs(n,r):i}var Ul=function(){function t(t){this.ar=t,this.buffer=new pu(Ml),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ml(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Hl=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Cs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Ss.b)(e,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Oc(e=n.sent())?(Cs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ol(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),ql=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return bc.resolve(to.U);var r=new Ul(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Cs("LruGarbageCollector","Garbage collection skipped; disabled"),bc.resolve(El)):this.br(t).next(function(r){return r<n.params.Hs?(Cs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),El):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(Cs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,s=Date.now(),c.yr(t,r)}).next(function(r){return n=r,o=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),Ts()<=be.a.DEBUG&&Cs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),bc.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),zl=function(){function t(t,e){this.db=t,this._r=function(t,e){return new ql(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Bl(t,n)},t.prototype.rr=function(t,e,n){return Bl(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Bl(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Dl(t)._s(function(r){return jl(t,r,e).next(function(t){return t&&(n=!0),bc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],s=0;return this.Cr(t,function(o,a){if(a<=e){var u=n.Nr(t,o).next(function(e){if(!e)return s++,r.fi(t,o).next(function(){return r._i(o),Vl(t).delete([0,Dc(o.path)])})});i.push(u)}}).next(function(){return bc.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Bl(t,e)},t.prototype.Cr=function(t,e){var n,r=Vl(t),i=to.U;return r.ls({index:Kc.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==to.U&&e(new ao(Lc(n)),i),i=o,n=s):i=to.U}).next(function(){i!==to.U&&e(new ao(Lc(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Bl(t,e){return Vl(t).put(function(t,e){return new Kc(0,Dc(t.path),e)}(e,t.vs))}var Gl=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Wl(t).put(Jl(e),n)},t.prototype._i=function(t,e){var n=Wl(t),r=Jl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Wl(t).get(Jl(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Wl(t).get(Jl(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:xl(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=vu();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=vu(),i=new hu(ao.J);return this.qr(t,e,function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,xl(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return bc.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return Wl(t).ls({range:r},function(t,e,r){for(var o=ao.Tt(t);s&&ao.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=_u(),s=e.path.length+1,o={};if(n.isEqual(no.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=al(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Bc.collectionReadTimeIndex}return Wl(t).ls(o,function(t,n,o){if(t.length===s){var a=sl(r.Kt,n);e.path.st(a.key.path)?a instanceof Uo&&Sa(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new $l(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Kl(t).get(Gc.key).next(function(t){return ks(!!t),t})},t.prototype.Lr=function(t,e){return Kl(t).put(Gc.key,e)},t.prototype.$r=function(t){if(t){var e=sl(this.Kt,t);return e instanceof Ho&&e.version.isEqual(no.min())?null:e}return null},t}(),$l=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Tl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ss.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new pu(function(t,e){return Rs(t.ot(),e.ot())});return this.oi.forEach(function(s,o){var a=e.zr.get(s);if(o.li){var u=ol(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var c=xl(u);r+=c-a,n.push(e.Gr.ui(t,s,u))}else if(r-=a,e.Wr){var l=ol(e.Gr.Kt,new Ho(s,no.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),bc.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Cl);function Kl(t){return el(t,Gc.store)}function Wl(t){return el(t,Bc.store)}function Jl(t){return t.path.rt()}var Ql=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;ks(n<r&&n>=0&&r<=11);var s=new _c("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Vc.store)}(t),function(t){t.createObjectStore(Mc.store,{keyPath:Mc.keyPath}),t.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.userMutationsIndex,Uc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hc.store)}(t),Zl(t),function(t){t.createObjectStore(Bc.store)}(t));var o=bc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kc.store),t.deleteObjectStore($c.store),t.deleteObjectStore(Wc.store)}(t),Zl(t)),o=o.next(function(){return function(t){var e=t.store(Wc.store),n=new Wc(0,0,no.min().G(),0);return e.put(Wc.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Uc.store).os().next(function(n){t.deleteObjectStore(Uc.store),t.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.userMutationsIndex,Uc.userMutationsKeyPath,{unique:!0});var r=e.store(Uc.store),i=n.map(function(t){return r.put(t)});return bc.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Qc.store,{keyPath:Qc.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Hr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Gc.store)}(t),i.Jr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Yr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Xr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bc.store);e.createIndex(Bc.readTimeIndex,Bc.readTimeIndexPath,{unique:!1}),e.createIndex(Bc.collectionReadTimeIndex,Bc.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Zr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Zc.store,{keyPath:Zc.keyPath})}(t),function(t){t.createObjectStore(Yc.store,{keyPath:Yc.keyPath})}(t)})),o},t.prototype.Jr=function(t){var e=0;return t.store(Bc.store).ls(function(t,n){e+=xl(n)}).next(function(){var n=new Gc(e);return t.store(Gc.store).put(Gc.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(Mc.store),r=t.store(Uc.store);return n.os().next(function(n){return bc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Uc.userMutationsIndex,i).next(function(r){return bc.forEach(r,function(r){ks(r.userId===n.userId);var i=hl(e.Kt,r);return Il(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Kc.store),n=t.store(Bc.store);return t.store(Wc.store).get(Wc.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new io(n),o=function(t){return[0,Dc(t)]}(s);r.push(e.get(o).next(function(n){return n?bc.resolve():function(n){return e.put(new Kc(0,Dc(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return bc.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Jc.store,{keyPath:Jc.keyPath});var n=e.store(Jc.store),r=new bl,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Dc(i)})}};return e.store(Bc.store).ls({hs:!0},function(t,e){var n=new io(t);return i(n.Z())}).next(function(){return e.store(Hc.store).ls({hs:!0},function(t,e){var n=Lc(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store($c.store);return n.ls(function(t,r){var i=fl(r),s=dl(e.Kt,i);return n.put(s)})},t}();function Zl(t){t.createObjectStore(Kc.store,{keyPath:Kc.keyPath}).createIndex(Kc.documentTargetsIndex,Kc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($c.store,{keyPath:$c.keyPath}).createIndex($c.queryTargetsIndexName,$c.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wc.store)}var Yl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xl=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Us(Ms.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new zl(this,i),this.lo=n+"main",this.Kt=new il(u),this._o=new wc(this.lo,11,new Ql(this.Kt)),this.fo=new Rl(this.Ii,this.Kt),this.Ti=new _l,this.wo=function(t,e){return new Gl(t,e)}(this.Kt,this.Ti),this.Eo=new gl,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Is("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Us(Ms.FAILED_PRECONDITION,Yl);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new to(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Ss.b)(e,void 0,void 0,function(){return Object(Ss.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Ss.b)(e,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Ss.b)(e,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return eh(e).put(new Qc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(Oc(e))return Cs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Cs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return th(t).get(Vc.key).next(function(t){return bc.resolve(e.Co(t))})},t.prototype.xo=function(t){return eh(t).delete(this.clientId)},t.prototype.No=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=el(t,Qc.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return bc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?bc.resolve(!0):th(t).get(Vc.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Us(Ms.FAILED_PRECONDITION,Yl);return!1}}return!(!e.networkEnabled||!e.inForeground)||eh(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Cs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t=this;return Object(Ss.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Vc.store,Qc.store],function(e){var n=new tl(e,to.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return eh(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Al.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Cs("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xc,function(s){return r=new tl(s,i.io?i.io.next():to.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw Is("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new Us(Ms.FAILED_PRECONDITION,kc);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return th(t).get(Vc.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Us(Ms.FAILED_PRECONDITION,Yl)})},t.prototype.Do=function(t){var e=new Vc(this.clientId,this.allowTabSynchronization,Date.now());return th(t).put(Vc.key,e)},t.jn=function(){return wc.jn()},t.prototype.So=function(t){var e=this,n=th(t);return n.get(Vc.key).next(function(t){return e.Co(t)?(Cs("IndexedDbPersistence","Releasing primary lease."),n.delete(Vc.key)):bc.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Is("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Cs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Is("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Is("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function th(t){return el(t,Vc.store)}function eh(t){return el(t,Qc.store)}function nh(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rh=function(t,e){this.progress=t,this.zo=e},ih=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=vu();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),s=yu();return i.forEach(function(t,e){e||(e=new Ho(t,no.min())),s=s.Ht(t,e)}),s})},t.prototype.jr=function(t,e,n){return function(t){return ao.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):ma(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new ao(e)).next(function(t){var e=_u();return t instanceof Uo&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=_u();return this.Ti.Qs(t,i).next(function(o){return bc.forEach(o,function(o){var a=function(t,e){return new ca(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.jr(t,e,n).next(function(n){return r=n,s.Ho.Ci(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=Wa(u,r.get(c),0,s.Ss);r=l instanceof Uo?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Sa(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Ou(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Xa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Uo&&(c=c.Ht(t,e))}),c})},t}(),sh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Ou(),i=Ou(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),oh=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(no.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(fa(e)||da(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(Ts()<=be.a.DEBUG&&Cs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ea(e)),i.uc.jr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new pu(Oa(t));return e.forEach(function(e,r){r instanceof Uo&&Sa(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Ts()<=be.a.DEBUG&&Cs("QueryEngine","Using full collection scan to execute query:",Ea(e)),this.uc.jr(t,e,no.min())},t}(),ah=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new hu(Rs),this.wc=new Tl(function(t){return Go(t)},$o),this.Ec=no.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new ih(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function uh(t,e,n,r){return new ah(t,e,n,r)}function ch(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Ss.d)(this,function(o){switch(o.label){case 0:return n=Ns(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.bi(t).next(function(o){return s=o,r=n.persistence.Ko(e),i=new ih(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],o=Ou(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function lh(t,e){var n=Ns(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=bc.resolve();return s.forEach(function(t){o=o.next(function(){return r.fi(e,t)}).next(function(e){var s=e,o=n.Fs.get(t);ks(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Os)})}),o.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function hh(t){var e=Ns(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function fh(t,e){var n=Ns(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Or({Wr:!0});i=n.dc;var o=[];e.Fe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next(function(){return n.fo.nr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(s,c),function(t,e,n){return ks(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.fo.Ji(t,c))}}});var a=yu();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))}),o.push(dh(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(no.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});o.push(u)}return bc.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function dh(t,e,n,r,i){var s=Ou();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=yu();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Ho&&o.version.isEqual(no.min())?(e._i(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,u),s=s.Ht(n,o)):Cs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function ph(t,e){var n=Ns(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function gh(t,e){var n=Ns(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?bc.resolve(r=i):n.fo.qi(t).next(function(i){return r=new Ca(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function mh(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:r=Ns(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Oc(o=a.sent()))throw o;return Cs("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function yh(t,e,n){var r=Ns(t),i=no.min(),s=Ou();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ns(t),i=r.wc.get(n);return void 0!==i?bc.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,va(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.jr(t,e,n?i:no.min(),n?s:Ou())}).next(function(t){return{documents:t,Pc:s}})})}function vh(t,e){var n=Ns(t),r=Ns(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function bh(t){var e=Ns(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ns(t),i=yu(),s=al(n),o=Wl(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:Bc.readTimeIndex,range:a},function(t,e){var n=sl(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{zo:i,readTime:ul(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function _h(t){return Object(Ss.b)(this,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){return[2,(e=Ns(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Wl(t),n=no.min();return e.ls({index:Bc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ul(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function wh(t,e,n,r){return Object(Ss.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Ss.d)(this,function(p){switch(p.label){case 0:for(i=Ns(t),s=Ou(),o=yu(),a=Eu(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,gh(i,function(t){return va(ha(io.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return dh(t,f,o,no.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,s,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Eh(t,e,n){return void 0===n&&(n=Ou()),Object(Ss.b)(this,void 0,void 0,function(){var r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return[4,gh(t,va(pl(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Ns(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Gu(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(Vs.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Sh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return bc.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Gu(n.createTime)}),bc.resolve()},t.prototype.$s=function(t,e){return bc.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:pl(t.bundledQuery),readTime:Gu(t.readTime)}}(e)),bc.resolve()},t}(),Oh=function(){function t(){this.Sc=new pu(Th.Dc),this.Cc=new pu(Th.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Th(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new Th(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new ao(new io([])),r=new Th(n,t),i=new Th(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new ao(new io([])),n=new Th(e,t),r=new Th(e,t+1),i=Ou();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new Th(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Th=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return ao.J(t.key,e.key)||Rs(t.$c,e.$c)},t.xc=function(t,e){return Rs(t.$c,e.$c)||ao.J(t.key,e.key)},t}(),Ch=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new pu(Th.Dc)}return t.prototype.Ri=function(t){return bc.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new nl(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new Th(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return bc.resolve(s)},t.prototype.yi=function(t,e){return bc.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return bc.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return bc.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return bc.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Th(e,0),i=new Th(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),bc.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new pu(Rs);return e.forEach(function(t){var e=new Th(t,0),i=new Th(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),bc.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;ao.Et(i)||(i=i.child(""));var s=new Th(new ao(i),0),o=new pu(Rs);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),bc.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;ks(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return bc.forEach(e.mutations,function(i){var s=new Th(i.key,e.batchId);return r=r.delete(s),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Th(e,0),r=this.qc.Pe(n);return bc.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return bc.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Ih=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new hu(ao.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return bc.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=vu();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),bc.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=_u(),i=new ao(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a.li,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof Uo&&Sa(e,u)&&(r=r.Ht(u.key,u))}return bc.resolve(r)},t.prototype.Gc=function(t,e){return bc.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new xh(this)},t.prototype.Mr=function(t){return bc.resolve(this.size)},t}(),xh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Ss.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),bc.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Cl),Ah=function(){function t(t){this.persistence=t,this.zc=new Tl(function(t){return Go(t)},$o),this.lastRemoteSnapshotVersion=no.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Oh,this.targetCount=0,this.Yc=Pl.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),bc.resolve()},t.prototype.Ki=function(t){return bc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return bc.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),bc.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),bc.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Pl(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,bc.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),bc.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,bc.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)}),bc.$n(s).next(function(){return i})},t.prototype.tr=function(t){return bc.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return bc.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),bc.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),bc.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),bc.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return bc.resolve(n)},t.prototype.ki=function(t,e){return bc.resolve(this.Jc.ki(e))},t}(),jh=function(){function t(t,e){var n=this;this.Xc={},this.io=new to(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Ah(this),this.Ti=new vl,this.wo=function(t,e){return new Ih(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new il(e),this.Eo=new Sh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Ch(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Cs("MemoryPersistence","Starting transaction:",t);var i=new kh(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return bc.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Ss.c)(e,t),e}(Nc),Nh=function(){function t(t){this.persistence=t,this.sa=new Oh,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw js()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),bc.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),bc.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),bc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return bc.forEach(this.oa,function(r){var i=ao.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return bc.Bn([function(){return bc.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Dh(t,e){return"firestore_clients_"+t+"_"+e}function Ph(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Rh(t,e){return"firestore_targets_"+t+"_"+e}var Lh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Us(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Is("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Us(r.error.code,r.error.message)),i?new t(e,r.state,s):(Is("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Cu(),o=0;i&&o<r.activeTargetIds.length;++o)i=Eo(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Is("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Mh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Is("SharedClientState","Failed to parse online state: "+e),null)},t}(),Uh=function(){function t(){this.activeTargetIds=Cu()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hh=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new hu(Rs),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Dh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Uh),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Ss.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Dh(this.persistenceKey,r)))&&(s=Vh.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Rh(this.persistenceKey,t));if(n){var r=Fh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Rh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Cs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Cs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Cs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Cs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Is("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Ss.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Ss.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=to.U;if(null!=t)try{var n=JSON.parse(t);ks("number"==typeof n),e=n}catch(t){Is("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==to.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Lh(this.currentUser,t,e,n),i=Ph(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Ph(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Rh(this.persistenceKey,t),i=new Fh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Vh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Lh.aa(new Ws(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Fh.aa(r,e)},t.prototype.ba=function(t){return Mh.aa(t)},t.prototype.Xa=function(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Cs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Cu();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),qh=function(){function t(){this.ru=new Uh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Uh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),zh=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Bh=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Cs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Cs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Gh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$h=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Kh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Ss.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new Es;o.listenOnce(bs.COMPLETE,function(){try{switch(o.getLastErrorCode()){case vs.NO_ERROR:var e=o.getResponseJson();Cs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vs.TIMEOUT:Cs("Connection",'RPC "'+t+'" timed out'),s(new Us(Ms.DEADLINE_EXCEEDED,"Request time out"));break;case vs.HTTP_ERROR:var n=o.getStatus();if(Cs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ms).indexOf(e)>=0?e:Ms.UNKNOWN}(r.status);s(new Us(a,r.message))}else s(new Us(Ms.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Us(Ms.UNAVAILABLE,"Connection failed."));break;default:js()}}finally{Cs("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ds,i=mr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(_e.l)()||Object(_e.n)()||Object(_e.j)()||Object(_e.k)()||Object(_e.o)()||Object(_e.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Cs("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new $h({du:function(t){c?Cs("Connection","Not sending because WebChannel is closed:",t):(u||(Cs("Connection","Opening WebChannel transport."),a.open(),u=!0),Cs("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ws.EventType.OPEN,function(){c||Cs("Connection","WebChannel transport opened.")}),h(a,ws.EventType.CLOSE,function(){c||(c=!0,Cs("Connection","WebChannel transport closed"),l.Pu())}),h(a,ws.EventType.ERROR,function(t){c||(c=!0,xs("Connection","WebChannel transport errored:",t),l.Pu(new Us(Ms.UNAVAILABLE,"The operation could not be completed")))}),h(a,ws.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ks(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Cs("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=iu[t];if(void 0!==e)return lu(e)}(i),o=r.message;void 0===s&&(s=Ms.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Us(s,o)),a.close()}else Cs("Connection","WebChannel received:",n),l.yu(n)}}),h(i,_s.STAT_EVENT,function(t){10===t.stat?Cs("Connection","Detected buffering proxy"):11===t.stat&&Cs("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Cs("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return Cs("RestConnection","Received: ",t),t},function(e){throw xs("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Gh[t]},t}());function Wh(){return"undefined"!=typeof window?window:null}function Jh(){return"undefined"!=typeof document?document:null}function Qh(t){return new Hu(t,!0)}var Zh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Cs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Yh=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=s,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Zh(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Ms.RESOURCE_EXHAUSTED?(Is(e.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ms.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new Us(Ms.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Ss.b)(t,void 0,void 0,function(){return Object(Ss.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Cs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(Cs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Xh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(Ss.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:js()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(ks(void 0===e||"string"==typeof e),Vs.fromBase64String(e||"")):(ks(void 0===e||e instanceof Uint8Array),Vs.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ms.UNKNOWN:lu(t.code);return new Us(e,t.message||"")}(a);n=new Pu(r,i,s,o||null)}else if("documentChange"in e){i=Ju(t,(r=e.documentChange).document.name),s=Gu(r.document.updateTime);var a=new Lo({mapValue:{fields:r.document.fields}}),u=(o=new Uo(i,s,a,{}),r.targetIds||[]);n=new Nu(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Ju(t,(r=e.documentDelete).document),s=r.readTime?Gu(r.readTime):no.min(),a=new Ho(i,s),n=new Nu([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ju(t,(r=e.documentRemove).document),n=new Nu([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return js();var c=e.filter;i=new uu(r=c.count||0),n=new Du(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return no.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?no.min():e.readTime?Gu(e.readTime):no.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Yu(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Ko(r)?{documents:ic(t,r)}:{query:sc(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=zu(t,e.resumeToken):e.Mt.u(no.min())>0&&(n.readTime=qu(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return js()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Yu(this.Kt),e.removeTarget=t,this.eh(e)},e}(Yh),tf=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(ks(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(ks(void 0!==e),t.map(function(t){return function(t,e){var n=Gu(t.updateTime?t.updateTime:e);n.isEqual(no.min())&&(n=Gu(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new za(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Gu(t.commitTime);return this.listener.wh(n,e)}return ks(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Yu(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return nc(e.Kt,t)})};this.eh(n)},e}(Yh),ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Ss.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Us(Ms.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Ms.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Ms.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),nf=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Is(e),this.Ph=!1):Cs("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),rf=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Ss.b)(s,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return df(this)?(Cs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ss.b)(this,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return(e=Ns(t)).Oh.add(4),[4,of(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,sf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new nf(n,r)};function sf(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:if(!df(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function of(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function af(t,e){var n=Ns(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),ff(n)?hf(n):xf(n).Ju()&&cf(n,e))}function uf(t,e){var n=Ns(t),r=xf(n);n.Nh.delete(e),r.Ju()&&lf(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():df(n)&&n.Mh.set("Unknown"))}function cf(t,e){t.Lh.cn(e.targetId),xf(t).hh(e)}function lf(t,e){t.Lh.cn(e),xf(t).lh(e)}function hf(t){t.Lh=new Lu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),xf(t).start(),t.Mh.yh()}function ff(t){return df(t)&&!xf(t).Hu()&&t.Nh.size>0}function df(t){return 0===Ns(t).Oh.size}function pf(t){t.Lh=void 0}function gf(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){return t.Nh.forEach(function(e,n){cf(t,e)}),[2]})})}function mf(t,e){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(n){return pf(t),ff(t)?(t.Mh.ph(e),hf(t)):t.Mh.set("Unknown"),[2]})})}function yf(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s;return Object(Ss.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Pu&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Ss.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Cs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,vf(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Nu?t.Lh.wn(e):e instanceof Du?t.Lh.yn(e):t.Lh.In(e),n.isEqual(no.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,hh(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Vs.h,n.Mt)),lf(t,e);var r=new Ca(n.target,e,1,n.sequenceNumber);cf(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Cs("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,vf(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function vf(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r=this;return Object(Ss.d)(this,function(i){switch(i.label){case 0:if(!Oc(e))throw e;return t.Oh.add(1),[4,of(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return hh(t.Sh)}),t.fs.bo(function(){return Object(Ss.b)(r,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return Cs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,sf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function bf(t,e){return e().catch(function(n){return vf(t,n,e)})}function _f(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Ss.d)(this,function(o){switch(o.label){case 0:e=Ns(t),n=Af(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return df(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,ph(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Af(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,vf(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return wf(e)&&Ef(e),[2]}})})}function wf(t){return df(t)&&!Af(t).Hu()&&t.xh.length>0}function Ef(t){Af(t).start()}function Sf(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){return Af(t).Th(),[2]})})}function Of(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ss.d)(this,function(i){for(e=Af(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Tf(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=rl.from(r,e,n),[4,bf(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,_f(t)];case 2:return s.sent(),[2]}})})}function Cf(t,e){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(n){switch(n.label){case 0:return e&&Af(t).fh?[4,function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return cu(r=e.code)&&r!==Ms.ABORTED?(n=t.xh.shift(),Af(t).Xu(),[4,bf(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_f(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wf(t)&&Ef(t),[2]}})})}function If(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return n=Ns(t),e?(n.Oh.delete(2),[4,sf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,of(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ns(t);return r.mh(),new Xh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:gf.bind(null,t),Iu:mf.bind(null,t),uh:yf.bind(null,t)}),t.Fh.push(function(n){return Object(Ss.b)(e,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),ff(t)?hf(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),pf(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Af(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Ns(t);return r.mh(),new tf(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Sf.bind(null,t),Iu:Cf.bind(null,t),Eh:Of.bind(null,t),wh:Tf.bind(null,t)}),t.Fh.push(function(n){return Object(Ss.b)(e,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,_f(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Cs("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var jf=function(){this.jh=void 0,this.listeners=[]},kf=function(){this.queries=new Tl(function(t){return wa(t)},_a),this.onlineState="Unknown",this.Wh=new Set};function Nf(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Ss.d)(this,function(c){switch(c.label){case 0:if(n=Ns(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new jf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=jc(a,"Initialization of query '"+Ea(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.jh&&e.Hh(s.jh)&&Lf(n),[2]}})})}function Df(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Ss.d)(this,function(a){return n=Ns(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Pf(t,e){for(var n=Ns(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.jh=o}}r&&Lf(n)}function Rf(t,e,n){var r=Ns(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Lf(t){t.Wh.forEach(function(t){t.next()})}var Ff=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Au(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Au.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Vf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Mf=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ju(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?ec(this.Kt,t.document,!1):new Ho(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Gu(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Mf(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ou()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return[4,wh(this.Sh,new Mf(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Eh(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rh(Object.assign({},this.progress),t))]}})})}}();var Uf=function(t){this.key=t},Hf=function(t){this.key=t},qf=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Ou(),this.Ce=Ou(),this.ll=Oa(t),this._l=new Iu(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new xu,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=fa(this.query)&&i.size===this.query.limit?i.last():null,c=da(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Uo?e:null;h&&(h=Sa(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),fa(this.query)||da(this.query))for(;o.size>this.query.limit;){var l=fa(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return js()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new Au(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new xu,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Ou(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Hf(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Uf(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Ou();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Au.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),zf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bf=function(t){this.key=t,this.yl=!1},Gf=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new Tl(function(t){return wa(t)},_a),this.Dl=new Map,this.Cl=[],this.xl=new hu(ao.J),this.Nl=new Map,this.Ol=new Oh,this.Fl={},this.kl=new Map,this.Ml=Pl.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function $f(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:return n=wd(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,gh(n.Sh,va(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,Kf(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&af(n.gl,s),a.label=4;case 4:return[2,r]}})})}function Kf(t,e,n,r){return Object(Ss.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Ss.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Ss.b)(this,void 0,void 0,function(){var i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,yh(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Fe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(od(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,yh(t.Sh,e,!0)];case 1:return i=l.sent(),s=new qf(e,i.Pc),o=s.dl(i.documents),a=ku.Be(n,r&&"Offline"!==t.onlineState),u=s.Ei(o,t.$l,a),od(t,n,u.ml),c=new zf(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Wf(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return n=Ns(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!_a(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,mh(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),uf(n.gl,r.targetId),id(n,r.targetId)}).catch(Ol)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return id(n,r.targetId),[4,mh(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Jf(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:r=Ed(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ns(t),i=eo.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ou());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ja(c,n.get(c.key));null!=l&&o.push(new Xa(c.key,l,Vo(l.proto.mapValue),Ba.exists(!0)))}return r.Ho.Pi(t,i,o,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new hu(Rs)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,cd(r,i.oi)];case 3:return a.sent(),[4,_f(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=jc(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Qf(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r;return Object(Ss.d)(this,function(i){switch(i.label){case 0:n=Ns(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fh(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(ks(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?ks(r.yl):t.Ke.size>0&&(ks(r.yl),r.yl=!1))}),[4,cd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ol(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Zf(t,e,n){var r=Ns(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ns(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&Lf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Yf(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Ss.d)(this,function(c){switch(c.label){case 0:return(r=Ns(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new hu(ao.J)).Ht(s,new Ho(s,no.min())),a=Ou().add(s),u=new ju(no.min(),new Map,new pu(Rs),o,a),[4,Qf(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),ud(r),[3,4];case 2:return[4,mh(r.Sh,e,!1).then(function(){return id(r,e,n)}).catch(Ol)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Xf(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:n=Ns(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,lh(n.Sh,e)];case 2:return i=s.sent(),rd(n,r,null),nd(n,r),n.pl.Oa(r,"acknowledged"),[4,cd(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ol(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function td(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:r=Ns(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Ns(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return ks(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),rd(r,e,n),nd(r,e),r.pl.Oa(e,"rejected",n),[4,cd(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ol(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function ed(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:df((n=Ns(t)).gl)||Cs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ns(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=jc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function nd(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function rd(t,e,n){var r=Ns(t),i=r.Fl[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function id(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||sd(t,e)})}function sd(t,e){var n=t.xl.get(e);null!==n&&(uf(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),ud(t))}function od(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Uf?(t.Ol.sr(s.key,e),ad(t,s)):s instanceof Hf?(Cs("SyncEngine","Document no longer in limbo: "+s.key),t.Ol.rr(s.key,e),t.Ol.ki(s.key)||sd(t,s.key)):js()}}function ad(t,e){var n=e.key;t.xl.get(n)||(Cs("SyncEngine","New document in limbo: "+n),t.Cl.push(n),ud(t))}function ud(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Bf(e)),t.xl=t.xl.Ht(e,n),af(t.gl,new Ca(va(ha(e.path)),n,2,to.U))}}function cd(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:return r=Ns(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sh.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Ss.d)(this,function(l){switch(l.label){case 0:n=Ns(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return bc.forEach(e,function(e){return bc.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return bc.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Oc(r=l.sent()))throw r;return Cs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function ld(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return(n=Ns(t)).currentUser.isEqual(e)?[3,3]:(Cs("SyncEngine","User change. New user:",e.R()),[4,ch(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Us(Ms.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,cd(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function hd(t,e){var n=Ns(t),r=n.Nl.get(e);if(r&&r.yl)return Ou().add(r.key);var i=Ou(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function fd(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return[4,yh((n=Ns(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&od(n,e.targetId,i.ml),i)]}})})}function dd(t){return Object(Ss.b)(this,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){return[2,bh((e=Ns(t)).Sh).then(function(t){return cd(e,t)})]})})}function pd(t,e,n,r){return Object(Ss.b)(this,void 0,void 0,function(){var i,s;return Object(Ss.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Ns(t),r=Ns(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):bc.resolve(null)})})}((i=Ns(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,_f(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rd(i,e,r||null),nd(i,e),function(t,e){Ns(Ns(t).Ho).Ni(e)}(i.Sh,e)):js(),o.label=4;case 4:return[4,cd(i,s)];case 5:return o.sent(),[3,7];case 6:Cs("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function gd(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Ss.d)(this,function(c){switch(c.label){case 0:return wd(n=Ns(t)),Ed(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,md(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,If(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)af(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return id(n,e),mh(n.Sh,e,!0)}),uf(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,md(n,a)];case 5:return c.sent(),function(t){var e=Ns(t);e.Nl.forEach(function(t,n){uf(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new hu(ao.J)}(n),n.Ll=!1,[4,If(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function md(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Ss.d)(this,function(g){switch(g.label){case 0:n=Ns(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,gh(n.Sh,va(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,fd(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vh(n.Sh,a)];case 8:return p=g.sent(),[4,gh(n.Sh,p)];case 9:return u=g.sent(),[4,Kf(n,yd(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function yd(t){return la(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function vd(t){var e=Ns(t);return Ns(Ns(e.Sh).persistence).Qo()}function bd(t,e,n,r){return Object(Ss.b)(this,void 0,void 0,function(){var i,s,o;return Object(Ss.d)(this,function(a){switch(a.label){case 0:return(i=Ns(t)).Ll?(Cs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bh(i.Sh)];case 3:return s=a.sent(),o=ju.$e(e,"current"===n),[4,cd(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,mh(i.Sh,e,!0)];case 6:return a.sent(),id(i,e,r),[3,8];case 7:js(),a.label=8;case 8:return[2]}})})}function _d(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Ss.d)(this,function(f){switch(f.label){case 0:if(!(r=wd(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(Cs("SyncEngine","Adding an already active target "+o),[3,5]):[4,vh(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,gh(r.Sh,a)];case 3:return u=f.sent(),[4,Kf(r,yd(a),u.targetId,!1)];case 4:f.sent(),af(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,mh(r.Sh,t,!1).then(function(){uf(r.gl,t),id(r,t)}).catch(Ol)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function wd(t){var e=Ns(t);return e.gl.Ch.Bh=Qf.bind(null,e),e.gl.Ch.Sn=hd.bind(null,e),e.gl.Ch.$h=Yf.bind(null,e),e.vl.uh=Pf.bind(null,e.Vl),e.vl.ql=Rf.bind(null,e.Vl),e}function Ed(t){var e=Ns(t);return e.gl.Ch.qh=Xf.bind(null,e),e.gl.Ch.Uh=td.bind(null,e),e}var Sd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return this.Kt=Qh(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return uh(this.persistence,new oh,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new jh(Nh.ra,this.Kt)},t.prototype.Wl=function(t){return new qh},t.prototype.terminate=function(){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),Od=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ss.c)(e,t),e.prototype.initialize=function(e){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_h(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Ed(this.Xl.fa)];case 4:return n.sent(),[4,_f(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return uh(this.persistence,new oh,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Hl(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=nh(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Sl.Xs(this.cacheSizeBytes):Sl.ei;return new Xl(this.synchronizeTabs,e,t.clientId,n,t.fs,Wh(),Jh(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new qh},e}(Sd),Td=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ss.c)(e,t),e.prototype.initialize=function(e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Hh?(this.pl.fa={nu:pd.bind(null,n),su:bd.bind(null,n),iu:_d.bind(null,n),Qo:vd.bind(null,n),eu:dd.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Ss.b)(r,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return[4,gd(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Wh();if(!Hh.jn(e))throw new Us(Ms.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nh(t.gu.T,t.gu.persistenceKey);return new Hh(e,t.fs,n,t.clientId,t.Yl)},e}(Od),Cd=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n=this;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Zf(n.fa,t,1)},this.gl.Ch.s_=ld.bind(null,this.fa),[4,If(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new kf},t.prototype.Zl=function(t){var e=Qh(t.gu.T),n=new Kh(t.gu);return function(t,e,n){return new ef(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Zf(o.fa,t,0)},s=Bh.jn()?new Bh:new zh,new rf(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Gf(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Ss.b)(this,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return e=Ns(t),Cs("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,of(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Id=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),xd=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new vc,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Vf(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Ss.b)(this,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Us(Ms.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new oo(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Ad=function(t){this._methodName=t};function jd(t,e,n){if(!n)throw new Us(Ms.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function kd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Us(Ms.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Nd(t,e,n,r){if(!0===e&&!0===r)throw new Us(Ms.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dd(t){if(!ao.Et(t))throw new Us(Ms.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Pd(t){if(ao.Et(t))throw new Us(Ms.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Rd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":js()}function Ld(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Us(Ms.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rd(t);throw new Us(Ms.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fd(t,e){if(e<=0)throw new Us(Ms.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Vd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Us(Ms.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Us(Ms.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Nd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Md=new Map,Ud=function(){function t(t,e){this.w_="(lite)",this.E_=new Vd({}),this.T_=!1,t instanceof Ks?(this.I_=t,this.m_=new Qs):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Us(Ms.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(t.options.projectId)}(t),this.m_=new Zs(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Us(Ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Us(Ms.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Vd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Qs;switch(t.type){case"gapi":var e=t.client;return ks(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xs(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Us(Ms.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Md.get(this))&&(Cs("ComponentProvider","Removing Datastore"),Md.delete(this),t.terminate()),Promise.resolve();var t},t}(),Hd=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zd(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),qd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),zd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ha(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Hd(this.firestore,null,new ao(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(qd);function Bd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof qs&&(t=t._),jd("collection","path",e),t instanceof Ud)return Pd(n=io.ct.apply(io,Object(Ss.g)([e],r))),new zd(t,null,n);if(!(t instanceof Hd||t instanceof zd))throw new Us(Ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pd(n=io.ct.apply(io,Object(Ss.g)([t.path],r)).child(io.ct(e))),new zd(t.firestore,null,n)}function Gd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof qs&&(t=t._),1===arguments.length&&(e=Ps.t()),jd("doc","path",e),t instanceof Ud)return Dd(n=io.ct.apply(io,Object(Ss.g)([e],r))),new Hd(t,null,new ao(n));if(!(t instanceof Hd||t instanceof zd))throw new Us(Ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dd(n=t.D_.child(io.ct.apply(io,Object(Ss.g)([e],r)))),new Hd(t.firestore,t instanceof zd?t.v_:null,new ao(n))}function $d(t,e){return t instanceof qs&&(t=t._),e instanceof qs&&(e=e._),(t instanceof Hd||t instanceof zd)&&(e instanceof Hd||e instanceof zd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Kd(t,e){return t instanceof qs&&(t=t._),e instanceof qs&&(e=e._),t instanceof qd&&e instanceof qd&&t.firestore===e.firestore&&_a(t.C_,e.C_)&&t.v_===e.v_}var Wd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Us(Ms.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Us(Ms.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Rs(this.x_,t.x_)||Rs(this.N_,t.N_)},t}(),Jd=/^__.*__$/,Qd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new Xa(t,this.data,this.zt,e,this.fieldTransforms):new Ya(t,this.data,e,this.fieldTransforms)},t}(),Zd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new Xa(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Yd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw js()}}var Xd=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return bp(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Yd(this.k_)&&Jd.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),tp=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Qh(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Xd({k_:t,methodName:e,W_:n,path:oo.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function ep(t){var e=t.p_(),n=Qh(t.I_);return new tp(t.I_,!!e.ignoreUndefinedProperties,n)}function np(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);gp("Data must be an object, but it was:",o,r);var a,u,c=dp(r,o);if(s.merge)a=new ho(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=mp(e,f[h],n);if(!o.contains(d))throw new Us(Ms.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_p(l,d)||l.push(d)}a=new ho(l),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new Qd(new Lo(c),a,u)}var rp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ad);function ip(t,e,n){return new Xd({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.z_=function(t){return new qa(t.path,new Pa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ad),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ss.c)(e,t),e.prototype.z_=function(t){var e=ip(this,t,!0),n=this.H_.map(function(t){return fp(t,e)}),r=new Ra(n);return new qa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ad),ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ss.c)(e,t),e.prototype.z_=function(t){var e=ip(this,t,!0),n=this.H_.map(function(t){return fp(t,e)}),r=new Fa(n);return new qa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ad),up=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Ss.c)(e,t),e.prototype.z_=function(t){var e=new Ma(t.Kt,Aa(t.Kt,this.J_));return new qa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ad);function cp(t,e,n,r){var i=t.G_(1,e,n);gp("Data must be an object, but it was:",i,r);var s=[],o=new Fo;co(r,function(t,r){var a=vp(e,t,n);r instanceof qs&&(r=r._);var u=i.U_(a);if(r instanceof rp)s.push(a);else{var c=fp(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new ho(s);return new Zd(o.yt(),a,i.fieldTransforms)}function lp(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[mp(e,r,n)],u=[i];if(s.length%2!=0)throw new Us(Ms.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(mp(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Fo,f=a.length-1;f>=0;--f)if(!_p(l,a[f])){var d=a[f],p=u[f];p instanceof qs&&(p=p._);var g=o.U_(d);if(p instanceof rp)l.push(d);else{var m=fp(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new ho(l);return new Zd(h.yt(),y,o.fieldTransforms)}function hp(t,e,n,r){return void 0===r&&(r=!1),fp(n,t.G_(r?4:3,e))}function fp(t,e){if(t instanceof qs&&(t=t._),pp(t))return gp("Unsupported field value:",e,t),dp(t,e);if(t instanceof Ad)return function(t,e){if(!Yd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=fp(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof qs&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Aa(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=eo.fromDate(t);return{timestampValue:qu(e.Kt,n)}}if(t instanceof eo)return n=new eo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:qu(e.Kt,n)};if(t instanceof Wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hs)return{bytesValue:zu(e.Kt,t.l)};if(t instanceof Hd){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:$u(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Rd(t))}(t,e)}function dp(t,e){var n={};return lo(t)?e.path&&e.path.length>0&&e.zt.push(e.path):co(t,function(t,r){var i=fp(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function pp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof eo||t instanceof Wd||t instanceof Hs||t instanceof Hd||t instanceof Ad)}function gp(t,e,n){if(!pp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Rd(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function mp(t,e,n){if(e instanceof qs&&(e=e._),e instanceof xd)return e.d_;if("string"==typeof e)return vp(t,e);throw bp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yp=new RegExp("[~\\*/\\[\\]]");function vp(t,e,n){if(e.search(yp)>=0)throw bp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xd.bind.apply(xd,Object(Ss.g)([void 0],e.split("."))))).d_}catch(r){throw bp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bp(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Us(Ms.INVALID_ARGUMENT,(a+=". ")+t+u)}function _p(t,e){return t.some(function(t){return t.isEqual(e)})}var wp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ss.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Us(Ms.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Ss.d)(this,function(u){switch(u.label){case 0:return n=Ns(t),r=Yu(n.Kt)+"/documents",i={documents:e.map(function(t){return Wu(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ks(!!e.found);var n=Ju(t,e.found.name),r=Gu(e.found.updateTime),i=new Lo({mapValue:{fields:e.found.fields}});return new Uo(n,r,i,{})}(t,e):"missing"in e?function(t,e){ks(!!e.missing),ks(!!e.readTime);var n=Ju(t,e.missing),r=Gu(e.readTime);return new Ho(n,r)}(t,e):js()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ks(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ho||t instanceof Uo?n.sf(t):js()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ou(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ss.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ao.ft(n);e.mutations.push(new au(r,e.Gt(r)))}),[4,function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return n=Ns(t),r=Yu(n.Kt)+"/documents",i={writes:e.map(function(t){return nc(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Uo)e=t.version;else{if(!(t instanceof Ho))throw js();e=no.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Us(Ms.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ba.updateTime(e):Ba.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(no.min()))throw new Us(Ms.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ba.updateTime(e)}return Ba.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ep=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Zh(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Ss.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ss.d)(this,function(r){return t=new wp(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!_o(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!cu(e)}return!1},t}(),Sp=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ws.UNAUTHENTICATED,this.clientId=Ps.t(),this._f=function(){},this.N=new vc,this.credentials.S(function(t){Cs("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Us(Ms.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new vc;return this.fs.Tf(function(){return Object(Ss.b)(t,void 0,void 0,function(){var t,n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=jc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Op(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),Cs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Ss.b)(i,void 0,void 0,function(){return Object(Ss.d)(this,function(t){switch(t.label){case 0:return[4,ch(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function Tp(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Cp(t)];case 1:return n=i.sent(),Cs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Ss.b)(this,void 0,void 0,function(){var n,r;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return(n=Ns(t)).fs.Af(),Cs("RemoteStore","RemoteStore received new credentials"),r=df(n),n.Oh.add(3),[4,of(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,sf(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Cp(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Cs("FirestoreClient","Using default OfflineComponentProvider"),[4,Op(t,new Sd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Ip(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Cs("FirestoreClient","Using default OnlineComponentProvider"),[4,Tp(t,new Cd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function xp(t){return Cp(t).then(function(t){return t.persistence})}function Ap(t){return Cp(t).then(function(t){return t.Sh})}function jp(t){return Ip(t).then(function(t){return t.gl})}function kp(t){return Ip(t).then(function(t){return t.fa})}function Np(t){return Object(Ss.b)(this,void 0,void 0,function(){var e,n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return[4,Ip(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=$f.bind(null,e.fa),n.Jh=Wf.bind(null,e.fa),n)]}})})}function Dp(t,e,n){var r=this;void 0===n&&(n={});var i=new vc;return t.fs.ys(function(){return Object(Ss.b)(r,void 0,void 0,function(){var r;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Id({next:function(s){e.ys(function(){return Df(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Us(Ms.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Us(Ms.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Ff(ha(n.path),s,{includeMetadataChanges:!0,sl:!0});return Nf(t,o)},[4,Np(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function Pp(t,e,n){var r=this;void 0===n&&(n={});var i=new vc;return t.fs.ys(function(){return Object(Ss.b)(r,void 0,void 0,function(){var r;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Id({next:function(n){e.ys(function(){return Df(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Us(Ms.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Ff(n,s,{includeMetadataChanges:!0,sl:!0});return Nf(t,o)},[4,Np(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var Rp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Zh(this,"async_queue_retry"),this.vf=function(){var e=Jh();e&&Cs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ss.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Oc(t=n.sent()))throw t;return Cs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Is("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Ac.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&js()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Ss.b)(this,void 0,void 0,function(){var t;return Object(Ss.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Rp,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Ss.c)(e,t),e.prototype.b_=function(){return this.Lf||Vp(this),this.Lf.terminate()},e}(Ud);function Fp(t){return t.Lf||Vp(t),t.Lf.df(),t.Lf}function Vp(t){var e=t.p_(),n=function(t,e,n){return new $s(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Sp(t.m_,t.Mf,n)}function Mp(t,e,n){var r=this,i=new vc;return t.fs.enqueue(function(){return Object(Ss.b)(r,void 0,void 0,function(){var r;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Op(t,n)];case 1:return s.sent(),[4,Tp(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ms.FAILED_PRECONDITION||t.code===Ms.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Up(t){if(t.R_||t.P_)throw new Us(Ms.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hp=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return go(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(mo(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw js()}},t.prototype.Wf=function(t,e){var n=this,r={};return co(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Wd(go(t.latitude),go(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=vo(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(bo(t));default:return null}},t.prototype.Bf=function(t){var e=po(t);return new eo(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=io.ct(t);ks(yc(n));var r=new Ks(n.get(1),n.get(3)),i=new ao(n.X(5));return r.isEqual(e)||Is("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),qp=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hd(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new zp(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Bp("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(qp);function Bp(t,e){return"string"==typeof e?vp(t,e):e instanceof qs?e._.d_:e.d_}function Gp(t){if(da(t)&&0===t.Nt.length)throw new Us(Ms.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $p=function(){};function Kp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var Wp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Ss.c)(e,t),e.prototype.Yf=function(t){var e=ep(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new Us(Ms.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){eg(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(tg(r,t,l[c]));a={arrayValue:{values:u}}}else a=tg(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||eg(o,s),a=hp(n,"where",o,"in"===s||"not-in"===s);var h=Wo.create(i,s,a);return function(t,e){if(e.xt()){var n=ga(t);if(null!==n&&!n.isEqual(e.field))throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=pa(t);null!==r&&ng(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Us(Ms.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new qd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ca(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}($p),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Ss.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sa(e,n);return function(t,e){if(null===pa(t)){var n=ga(t);null!==n&&ng(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new qd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ca(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}($p),Qp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Ss.c)(e,t),e.prototype.Yf=function(t){return new qd(t.firestore,t.v_,ba(t.C_,this.nd,this.sd))},e}($p),Zp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Ss.c)(e,t),e.prototype.Yf=function(t){var e=Xp(t,this.type,this.rd,this.od);return new qd(t.firestore,t.v_,function(t,e){return new ca(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}($p),Yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Ss.c)(e,t),e.prototype.Yf=function(t){var e=Xp(t,this.type,this.rd,this.od);return new qd(t.firestore,t.v_,function(t,e){return new ca(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}($p);function Xp(t,e,n,r){if(n[0]instanceof qs&&(n[0]=n[0]._),n[0]instanceof qp)return function(t,e,n,r,i){if(!r)throw new Us(Ms.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=ya(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(jo(e,r.key));else{var c=r.field(u.field);if(yo(c))throw new Us(Ms.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new ra(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=ep(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new Us(Ms.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ma(t)&&-1!==c.indexOf("/"))throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(io.ct(c));if(!ao.Et(l))throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ao(l);a.push(jo(e,h))}else{var f=hp(n,r,c);a.push(f)}}return new ra(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function tg(t,e,n){if(n instanceof qs&&(n=n._),"string"==typeof n){if(""===n)throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ma(e)&&-1!==n.indexOf("/"))throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(io.ct(n));if(!ao.Et(r))throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jo(t,new ao(r))}if(n instanceof Hd)return jo(t,n.S_);throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rd(n)+".")}function eg(t,e){if(!Array.isArray(t)||0===t.length)throw new Us(Ms.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Us(Ms.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ng(t,e,n){if(!n.isEqual(e))throw new Us(Ms.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function rg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function ig(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ss.c)(e,t),e.prototype.Uf=function(t){return new Hs(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Hd(this.firestore,null,e)},e}(Hp),og=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ag=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Ss.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new ug(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Bp("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(qp),ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ag),cg=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new og(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new ug(n.zf,n.Hf,r.key,r,new og(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Us(Ms.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new ug(t.zf,t.Hf,e.doc.key,e.doc,new og(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ug(t.zf,t.Hf,e.doc.key,e.doc,new og(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:lg(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function lg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return js()}}function hg(t,e){return t instanceof ag&&e instanceof ag?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof cg&&e instanceof cg&&t.zf===e.zf&&Kd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var fg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ss.c)(e,t),e.prototype.Uf=function(t){return new Hs(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Hd(this.firestore,null,e)},e}(Hp);function dg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ld(t,Hd);var s=Ld(t.firestore,Lp),o=ep(s);return e instanceof qs&&(e=e._),gg(s,[("string"==typeof e||e instanceof xd?lp(o,"updateDoc",t.S_,e,n,r):cp(o,"updateDoc",t.S_,e)).O_(t.S_,Ba.exists(!0))])}function pg(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof qs&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||rg(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(rg(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Hd)c=Ld(t.firestore,Lp),l=ha(t.S_.path),u={next:function(e){i[a]&&i[a](mg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ld(t,qd);c=Ld(d.firestore,Lp),l=d.C_;var p=new fg(c);u={next:function(t){i[a]&&i[a](new cg(c,p,d,t))},error:i[a+1],complete:i[a+2]},Gp(t.C_)}return function(t,e,n,r){var i=this,s=new Id(r),o=new Ff(e,s,n);return t.fs.ys(function(){return Object(Ss.b)(i,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return e=Nf,[4,Np(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(Ss.b)(i,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return e=Df,[4,Np(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Fp(c),l,h,u)}function gg(t,e){return function(t,e){var n=this,r=new vc;return t.fs.ys(function(){return Object(Ss.b)(n,void 0,void 0,function(){var n;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return n=Jf,[4,kp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Fp(t),e)}function mg(t,e,n){var r=n.docs.get(e.S_),i=new fg(t);return new ag(t,i,e.S_,r,new og(n.hasPendingWrites,n.fromCache),e.v_)}var yg=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=ep(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=vg(t,this.zf),i=ig(r.v_,e,n),s=np(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.O_(r.S_,Ba.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=vg(t,this.zf);return e instanceof qs&&(e=e._),s="string"==typeof e||e instanceof xd?lp(this.wd,"WriteBatch.update",o.S_,e,n,r):cp(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.O_(o.S_,Ba.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=vg(t,this.zf);return this.fd=this.fd.concat(new ou(e.S_,Ba.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Us(Ms.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function vg(t,e){if(t instanceof qs&&(t=t._),t.firestore!==e)throw new Us(Ms.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var bg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Ss.c)(e,t),e.prototype.get=function(e){var n=this,r=vg(e,this.zf),i=new fg(this.zf);return t.prototype.get.call(this,e).then(function(t){return new ag(n.zf,i,r.S_,t.Jf,new og(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=ep(t)}return t.prototype.get=function(t){var e=this,n=vg(t,this.zf),r=new sg(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return js();var i=t[0];if(i instanceof Ho)return new qp(e.zf,r,n.S_,null,n.v_);if(i instanceof Uo)return new qp(e.zf,r,i.key,i,n.v_);throw js()})},t.prototype.set=function(t,e,n){var r=vg(t,this.zf),i=ig(r.v_,e,n),s=np(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=vg(t,this.zf);return e instanceof qs&&(e=e._),s="string"==typeof e||e instanceof xd?lp(this.wd,"Transaction.update",o.S_,e,n,r):cp(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=vg(t,this.zf);return this.Td.delete(e.S_),this},t}()),_g=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Up(t=Ld(t,Lp));var n=Fp(t),r=t.p_(),i=new Cd;return Mp(n,i,new Od(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Up(t=Ld(t,Lp));var e=Fp(t),n=t.p_(),r=new Cd;return Mp(e,r,new Td(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Us(Ms.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new vc;return t.Mf.Tf(function(){return Object(Ss.b)(e,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ss.b)(this,void 0,void 0,function(){return Object(Ss.d)(this,function(e){switch(e.label){case 0:return wc.jn()?[4,wc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(nh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ks||(i.md=e),i}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ld(t,Ud)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&xs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Ss.b)(e,void 0,void 0,function(){var e,n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return[4,xp(t)];case 1:return e=r.sent(),[4,jp(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Ns(t);return e.Oh.delete(0),sf(e)}(n))]}})})})}(Fp(Ld(this._,Lp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Ss.b)(e,void 0,void 0,function(){var e,n;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return[4,xp(t)];case 1:return e=r.sent(),[4,jp(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Ss.b)(this,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return(e=Ns(t)).Oh.add(0),[4,of(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Fp(Ld(this._,Lp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Nd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new vc;return t.fs.ys(function(){return Object(Ss.b)(e,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(r){switch(r.label){case 0:return e=ed,[4,kp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Fp(Ld(this._,Lp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Id(e);return t.fs.ys(function(){return Object(Ss.b)(n,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ns(t).Wh.add(e),e.next()},[4,Np(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Ss.b)(n,void 0,void 0,function(){var e;return Object(Ss.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ns(t).Wh.delete(e)},[4,Np(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Fp(t=Ld(t,Lp)),rg(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Us(Ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pg(this,Bd(this._,t))}catch(t){throw Cg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Tg(this,Gd(this._,t))}catch(t){throw Cg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new kg(this,function(t,e){if(t=Ld(t,Ud),jd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Us(Ms.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qd(t,null,function(t){return new ca(io.at(),t)}(e))}(this._,t))}catch(t){throw Cg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new vc;return t.fs.ys(function(){return Object(Ss.b)(n,void 0,void 0,function(){var n;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ip(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Ep(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Fp(t),function(n){return e(new bg(t,n))})}(this._,function(n){return t(new Sg(e,n))})},e.prototype.batch=function(){var t=this;return Fp(this._),new Og(new yg(this._,function(e){return gg(t._,e)}))},e.prototype.loadBundle=function(t){throw new Us(Ms.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Us(Ms.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(qs),Eg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ss.c)(e,t),e.prototype.Uf=function(t){return new Gs(new Hs(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Tg.Ad(e,this.firestore,null)},e}(Hp),Sg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Eg(e),r}return Object(Ss.c)(e,t),e.prototype.get=function(t){var e=this,n=Rg(t);return this._.get(n).then(function(t){return new Ag(e.zf,new ag(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Rg(t);return n?(kd("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Rg(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Ss.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Rg(t);return this._.delete(e),this},e}(qs),Og=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.set=function(t,e,n){var r=Rg(t);return n?(kd("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Rg(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Ss.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Rg(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(qs),Tg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Eg(e),r}return Object(Ss.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Us(Ms.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Hd(n._,r,new ao(t)))},e.Ad=function(t,n,r){return new e(n,new Hd(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Pg(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pg(this.firestore,Bd(this._,t))}catch(t){throw Cg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof qs&&(t=t._),t instanceof Hd&&$d(this._,t)},e.prototype.set=function(t,e){e=kd("DocumentReference.set",e);try{return function(t,e,n){t=Ld(t,Hd);var r=Ld(t.firestore,Lp),i=ig(t.v_,e,n);return gg(r,[np(ep(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Ba.jt())])}(this._,t,e)}catch(t){throw Cg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dg(this._,t):dg.apply(void 0,Object(Ss.g)([this._,t,e],n))}catch(t){throw Cg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return gg(Ld((t=this._).firestore,Lp),[new ou(t.S_,Ba.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ig(e),i=xg(e,function(e){return new Ag(t.firestore,new ag(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return pg(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ld(t,Hd);var e=Ld(t.firestore,Lp),n=Fp(e),r=new fg(e);return function(t,e){var n=this,r=new vc;return t.fs.ys(function(){return Object(Ss.b)(n,void 0,void 0,function(){var n;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i;return Object(Ss.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Ns(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Uo?n.resolve(i):i instanceof Ho?n.resolve(null):n.reject(new Us(Ms.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=jc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ap(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new ag(e,r,t.S_,n,new og(n instanceof Uo&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ld(t,Hd);var e=Ld(t.firestore,Lp);return Dp(Fp(e),t.S_,{source:"server"}).then(function(n){return mg(e,t,n)})}(this._):function(t){t=Ld(t,Hd);var e=Ld(t.firestore,Lp);return Dp(Fp(e),t.S_).then(function(n){return mg(e,t,n)})}(this._)).then(function(t){return new Ag(e.firestore,new ag(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(qs);function Cg(t,e,n){return t.message=t.message.replace(e,n),t}function Ig(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!rg(r))return r}return{}}function xg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=rg(t[0])?t[0]:rg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ag=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tg(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return hg(this._,t._)},e}(qs),jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Ag),kg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Eg(e),r}return Object(Ss.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Kp(this._,function(t,e,n){var r=e,i=Bp("where",t);return new Wp(i,r,n)}(t,n,r)))}catch(t){throw Cg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Kp(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Bp("orderBy",t);return new Jp(r,n)}(t,n)))}catch(t){throw Cg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Kp(this._,function(t){return Fd("limit",t),new Qp("limit",t,"F")}(t)))}catch(t){throw Cg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Kp(this._,function(t){return Fd("limitToLast",t),new Qp("limitToLast",t,"L")}(t)))}catch(t){throw Cg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zp("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Cg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zp("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Cg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yp("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Cg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yp("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Cg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Kd(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ld(t,qd);var e=Ld(t.firestore,Lp),n=Fp(e),r=new fg(e);return function(t,e){var n=this,r=new vc;return t.fs.ys(function(){return Object(Ss.b)(n,void 0,void 0,function(){var n;return Object(Ss.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ss.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Ss.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,yh(t,e,!0)];case 1:return a=u.sent(),r=new qf(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=jc(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Ap(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new cg(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ld(t,qd);var e=Ld(t.firestore,Lp),n=Fp(e),r=new fg(e);return Pp(n,t.C_,{source:"server"}).then(function(n){return new cg(e,r,t,n)})}(this._):function(t){t=Ld(t,qd);var e=Ld(t.firestore,Lp),n=Fp(e),r=new fg(e);return Gp(t.C_),Pp(n,t.C_).then(function(n){return new cg(e,r,t,n)})}(this._)).then(function(t){return new Dg(e.firestore,new cg(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ig(e),i=xg(e,function(e){return new Dg(t.firestore,new cg(t.firestore._,t.Hf,t._,e.ud))});return pg(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(qs),Ng=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new jg(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(qs),Dg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new kg(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new jg(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new Ng(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new jg(n.zf,r))})},e.prototype.isEqual=function(t){return hg(this._,t._)},e}(qs),Pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Ss.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Tg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Tg(this.firestore,void 0===t?Gd(this._):Gd(this._,t))}catch(t){throw Cg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ld(t.firestore,Lp),r=Gd(t),i=ig(t.v_,e);return gg(n,[np(ep(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Ba.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Tg(e.firestore,t)})},e.prototype.isEqual=function(t){return $d(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(kg);function Rg(t){return t instanceof qs&&(t=t._),Ld(t,Hd)}var Lg=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(xd.bind.apply(xd,Object(Ss.g)([void 0],e))))||this}return Object(Ss.c)(e,t),e.documentId=function(){return new e(oo.lt().ot())},e.prototype.isEqual=function(t){return t instanceof qs&&(t=t._),t instanceof xd&&this._.d_.isEqual(t.d_)},e}(qs),Fg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ss.c)(e,t),e.serverTimestamp=function(){var t=new sp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new rp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new op("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ap("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new up("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(qs);!function(){function t(){this.Pd={},this.yd=new vc,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Vg,Mg=n("/6Yf"),Ug={Firestore:wg,GeoPoint:Wd,Timestamp:eo,Blob:Gs,Transaction:Sg,WriteBatch:Og,DocumentReference:Tg,DocumentSnapshot:Ag,Query:kg,QueryDocumentSnapshot:jg,QuerySnapshot:Dg,CollectionReference:Pg,FieldPath:Lg,FieldValue:Fg,setLogLevel:function(t){Os.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Mg.a("firestore",function(t){return function(t,e){return new wg(t,new Lp(t,e),new _g)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ug)))})(Vg=ve.a),Vg.registerVersion("@firebase/firestore","2.1.2");var Hg=n("XNiG"),qg=n("VRyK"),zg=n("zx2A");function Bg(t,e){return"function"==typeof e?n=>n.pipe(Bg((n,r)=>Object(Zt.a)(t(n,r)).pipe(Object(ae.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Gg(t))}class Gg{constructor(t){this.project=t}call(t,e){return e.subscribe(new $g(t,this.project))}}class $g extends zg.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zg.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(zg.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Kg=n("qgXg"),Wg=n("quSY"),Jg=n("9ppp"),Qg=n("Ylt2");class Zg extends Hg.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Yg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Jg.a;if(this.isStopped||this.hasError?s=Wg.a.EMPTY:(this.observers.push(t),s=new Qg.a(this,t)),r&&t.add(t=new me.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Kg.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Yg{constructor(t,e){this.time=t,this.value=e}}function Xg(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Zg(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const tm=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),em=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var nm=n("EY2u");function rm(t){return e=>0===t?Object(nm.b)():e.lift(new im(t))}class im{constructor(t){if(this.total=t,this.total<0)throw new em}call(t,e){return e.subscribe(new sm(t,this.total))}}class sm extends re.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function om(t=null){return e=>e.lift(new am(t))}class am{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new um(t,this.defaultValue))}}class um extends re.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function cm(t=fm){return e=>e.lift(new lm(t))}class lm{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new hm(t,this.errorFactory))}}class hm extends re.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Vg){t=Vg}this.destination.error(t)}}}function fm(){return new tm}var dm=n("SpAZ");function pm(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):dm.a,rm(1),n?om(e):cm(()=>new tm))}function gm(t,e){return e?Bg(()=>t,e):Bg(()=>t)}var mm=n("tf+s");const ym=new r.q("angularfire2.auth.use-emulator"),vm=new r.q("angularfire2.auth.settings"),bm=new r.q("angularfire2.auth.tenant-id"),_m=new r.q("angularfire2.auth.langugage-code"),wm=new r.q("angularfire2.auth.use-device-language"),Em=new r.q("angularfire.auth.persistence");let Sm=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Wt.d(i),f=Object(Wt.h)(h),d=new Hg.a,p=Object(Yt.a)(void 0).pipe(Object(me.b)(h.outsideAngular),Bg(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ae.a)(()=>Object(Wt.g)(t,i,e)),Object(ae.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Wt.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Xg({bufferSize:1,refCount:!1}));if(dt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Yt.a)(null);else{p.pipe(pm()).subscribe();const t=p.pipe(Bg(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Xg({bufferSize:1,refCount:!1})),e=t=>new Qt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Bg(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Bg(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(gm(n),Object(mm.a)(h.outsideAngular),Object(me.b)(h.insideAngular)),this.user=t.pipe(gm(r),Object(mm.a)(h.outsideAngular),Object(me.b)(h.insideAngular)),this.idToken=this.user.pipe(Bg(t=>t?Object(Zt.a)(t.getIdToken()):Object(Yt.a)(null))),this.idTokenResult=this.user.pipe(Bg(t=>t?Object(Zt.a)(t.getIdTokenResult()):Object(Yt.a)(null))),this.credential=Object(qg.a)(t,d,this.authState.pipe(de(t=>!t))).pipe(Object(ae.a)(t=>(null==t?void 0:t.user)?t:null),Object(mm.a)(h.outsideAngular),Object(me.b)(h.insideAngular))}return Object(Wt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Wt.c),r.Sb(Wt.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(ym,8),r.Sb(vm,8),r.Sb(bm,8),r.Sb(_m,8),r.Sb(wm,8),r.Sb(Em,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Wt.c),Object(r.Sb)(Wt.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(ym,8),Object(r.Sb)(vm,8),Object(r.Sb)(bm,8),Object(r.Sb)(_m,8),Object(r.Sb)(wm,8),Object(r.Sb)(Em,8))},token:t,providedIn:"any"}),t})();function Om(t,e){return function(t,e=Jt.a){return new Qt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Tm(t,e){return Om(t,e).pipe(Object(ae.a)(t=>({payload:t,type:"query"})))}function Cm(t,e){return Tm(t,e).pipe(ne(void 0),ie(),Object(ae.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Im(t,e,n){return Cm(t,n).pipe(ue((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return xm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return xm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new he(void 0,void 0)),Object(ae.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function xm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Am(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Wt.e)(Sm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class jm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Cm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ae.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ne(void 0),ie(),de(([t,e])=>e.length>0||!t),Object(ae.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ue((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Am(t);return Im(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Tm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ae.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Zt.a)(this.query.get(t)).pipe(Object(me.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new km(this.ref.doc(t),this.afs)}}class km{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Fm(n,e);return new jm(r,i,this.afs)}snapshotChanges(){return Om(this.ref,this.afs.schedulers.outsideAngular).pipe(ne(void 0),ie(),Object(ae.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ae.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Zt.a)(this.ref.get(t)).pipe(Object(me.b)(this.afs.schedulers.insideAngular))}}class Nm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Cm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ae.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),de(t=>t.length>0),this.afs.keepUnstableUntilFirst):Cm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ue((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Am(t);return Im(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Tm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ae.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Zt.a)(this.query.get(t)).pipe(Object(me.b)(this.afs.schedulers.insideAngular))}}const Dm=new r.q("angularfire2.enableFirestorePersistence"),Pm=new r.q("angularfire2.firestore.persistenceSettings"),Rm=new r.q("angularfire2.firestore.settings"),Lm=new r.q("angularfire2.firestore.use-emulator");function Fm(t,e=(t=>t)){return{query:e(t),ref:t}}let Vm=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Wt.d(s),this.keepUnstableUntilFirst=Object(Wt.h)(this.schedulers);const c=Object(Wt.g)(t,s,e);!ye.a.auth&&u&&Object(Wt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Wt.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!dt(i)){const e=()=>{try{return Object(Zt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Vg){return"undefined"!=typeof console&&console.warn(Vg),Object(Yt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Yt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Fm(n,e),s=this.schedulers.ngZone.run(()=>r);return new jm(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Nm(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new km(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Wt.c),r.Sb(Wt.b,8),r.Sb(Dm,8),r.Sb(Rm,8),r.Sb(r.B),r.Sb(r.z),r.Sb(Pm,8),r.Sb(Lm,8),r.Sb(ym,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Wt.c),Object(r.Sb)(Wt.b,8),Object(r.Sb)(Dm,8),Object(r.Sb)(Rm,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(Pm,8),Object(r.Sb)(Lm,8),Object(r.Sb)(ym,8))},token:t,providedIn:"any"}),t})(),Mm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Dm,useValue:!0},{provide:Pm,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Vm]}),t})();class Um{}const Hm="*";function qm(t,e){return{type:7,name:t,definitions:e,options:{}}}function zm(t,e=null){return{type:4,styles:e,timings:t}}function Bm(t,e=null){return{type:2,steps:t,options:e}}function Gm(t){return{type:6,styles:t,offset:null}}function $m(t,e,n){return{type:0,name:t,styles:e,options:n}}function Km(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Wm(t){Promise.resolve(null).then(t)}class Jm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Qm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Wm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Zm=["toast-component",""];function Ym(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.cc(t),r.Xb().remove()}),r.Ob(1,"span",6),r.jc(2,"\xd7"),r.Nb(),r.Nb()}}function Xm(t,e){if(1&t&&(r.Mb(0),r.jc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.lc("[",t.duplicatesCount+1,"]")}}function ty(t,e){if(1&t&&(r.Ob(0,"div"),r.jc(1),r.ic(2,Xm,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.lc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function ey(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.dc)}}function ny(t,e){if(1&t&&(r.Ob(0,"div",8),r.jc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.lc(" ",t.message," ")}}function ry(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.gc("width",t.width+"%")}}function iy(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.cc(t),r.Xb().remove()}),r.Ob(1,"span",6),r.jc(2,"\xd7"),r.Nb(),r.Nb()}}function sy(t,e){if(1&t&&(r.Mb(0),r.jc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.lc("[",t.duplicatesCount+1,"]")}}function oy(t,e){if(1&t&&(r.Ob(0,"div"),r.jc(1),r.ic(2,sy,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.lc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function ay(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.dc)}}function uy(t,e){if(1&t&&(r.Ob(0,"div",8),r.jc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.lc(" ",t.message," ")}}function cy(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.gc("width",t.width+"%")}}class ly{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new Hg.a,this._onAction=new Hg.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const hy={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},fy=new r.q("ToastConfig");class dy{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class py extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let gy=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class my{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let yy=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new py(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new my(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(gy),r.Sb(r.j),r.Sb(r.g),r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(gy),Object(r.Sb)(r.j),Object(r.Sb)(r.g),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class vy{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Hg.a,this._activate=new Hg.a,this._manualClose=new Hg.a,this._resetTimeout=new Hg.a,this._countDuplicate=new Hg.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class by{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===ly?this._toastPackage:this._parentInjector.get(t,e,n)}}let _y=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,e));const c=new vy(a),l=new ly(this.index,i,u,n,t,c),h=new by(l,this._injector),f=new dy(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(fy),r.Sb(yy),r.Sb(r.r),r.Sb(qt),r.Sb(r.z))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(fy),Object(r.Sb)(yy),Object(r.Sb)(r.o),Object(r.Sb)(qt),Object(r.Sb)(r.z))},token:t,providedIn:"root"}),t})(),wy=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(_y),r.Jb(ly),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.hc("@flyInOut",e.state),r.Ab(e.toastClasses),r.gc("display",e.displayStyle))},attrs:Zm,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.ic(0,Ym,3,0,"button",0),r.ic(1,ty,3,5,"div",1),r.ic(2,ey,1,3,"div",2),r.ic(3,ny,2,4,"div",3),r.ic(4,ry,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[ut],encapsulation:2,data:{animation:[qm("flyInOut",[$m("inactive",Gm({opacity:0})),$m("active",Gm({opacity:1})),$m("removed",Gm({opacity:0})),Km("inactive => active",zm("{{ easeTime }}ms {{ easing }}")),Km("active => removed",zm("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const Ey=Object.assign(Object.assign({},hy),{toastComponent:wy});let Sy=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:fy,useValue:{default:Ey,config:e}}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[ft]]}),t})(),Oy=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(_y),r.Jb(ly),r.Jb(r.g))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Ab(e.toastClasses),r.gc("display",e.displayStyle))},attrs:Zm,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.ic(0,iy,3,0,"button",0),r.ic(1,oy,3,5,"div",1),r.ic(2,ay,1,3,"div",2),r.ic(3,uy,2,4,"div",3),r.ic(4,cy,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[ut],encapsulation:2}),t})();function Ty(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Cy(t){switch(t.length){case 0:return new Jm;case 1:return t[0];default:return new Qm(t)}}function Iy(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Hm:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function xy(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ay(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ay(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ay(n,"destroy",t)))}}function Ay(t,e,n){const r=n.totalTime,i=jy(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function jy(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ky(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ny(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}Object.assign(Object.assign({},hy),{toastComponent:Oy});let Dy=(t,e)=>!1,Py=(t,e)=>!1,Ry=(t,e,n)=>[];const Ly=Ty();(Ly||"undefined"!=typeof Element)&&(Dy=(t,e)=>t.contains(e),Py=(()=>{if(Ly||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Py}})(),Ry=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Fy=null,Vy=!1;function My(t){Fy||(Fy=("undefined"!=typeof document?document.body:null)||{},Vy=!!Fy.style&&"WebkitAppearance"in Fy.style);let e=!0;return Fy.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Fy.style,!e&&Vy)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Fy.style),e}const Uy=Py,Hy=Dy,qy=Ry;function zy(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let By=(()=>{class t{validateStyleProperty(t){return My(t)}matchesElement(t,e){return Uy(t,e)}containsElement(t,e){return Hy(t,e)}query(t,e,n){return qy(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Jm(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Gy=(()=>{class t{}return t.NOOP=new By,t})();const $y="ng-enter",Ky="ng-leave",Wy="ng-trigger",Jy=".ng-trigger",Qy="ng-animating",Zy=".ng-animating";function Yy(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Xy(parseFloat(e[1]),e[2])}function Xy(t,e){switch(e){case"s":return 1e3*t;default:return t}}function tv(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Xy(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Xy(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function ev(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function nv(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ev(t,n);return n}function rv(t,e,n){return n?e+":"+n+";":""}function iv(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=rv(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=rv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function sv(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=dv(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ty()&&iv(t))}function ov(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=dv(e);t.style[n]=""}),Ty()&&iv(t))}function av(t){return Array.isArray(t)?1==t.length?t[0]:Bm(t):t}const uv=new RegExp("{{\\s*(.+?)\\s*}}","g");function cv(t){let e=[];if("string"==typeof t){let n;for(;n=uv.exec(t);)e.push(n[1]);uv.lastIndex=0}return e}function lv(t,e,n){const r=t.toString(),i=r.replace(uv,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function hv(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const fv=/-+([a-z0-9])/g;function dv(t){return t.replace(fv,(...t)=>t[1].toUpperCase())}function pv(t,e){return 0===t||0===e}function gv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=yv(t,e)})}}return e}function mv(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function yv(t,e){return window.getComputedStyle(t)[e]}const vv="*";function bv(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Ev(i,o)),"<"!=s[0]||i==vv&&o==vv||e.push(Ev(o,i))}(t,n,e)):n.push(t),n}const _v=new Set(["true","1"]),wv=new Set(["false","0"]);function Ev(t,e){const n=_v.has(t)||wv.has(t),r=_v.has(e)||wv.has(e);return(i,s)=>{let o=t==vv||t==i,a=e==vv||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?_v.has(t):wv.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?_v.has(e):wv.has(e)),o&&a}}const Sv=new RegExp("s*:selfs*,?","g");function Ov(t,e,n){return new Tv(t).build(e,n)}class Tv{constructor(t){this._driver=t}build(t,e){const n=new Cv(e);return this._resetContextStyleTimingState(n),mv(this,av(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Iv(t)){const e=t;Object.keys(e).forEach(t=>{cv(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=hv(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=mv(this,av(t.animation),e);return{type:1,matchers:bv(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>mv(this,t,e)),options:xv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=mv(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:xv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Av(tv(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Av(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||tv(r,e),Av(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Gm({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Gm(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Hm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Iv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=cv(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Iv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Iv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:mv(this,av(t.animation),e),options:xv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Sv,"")),[t=t.replace(/@\*/g,Jy).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Zy),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ky(e.collectedStyles,e.currentQuerySelector,{});const o=mv(this,av(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:tv(t.timings,e.errors,!0);return{type:12,animation:mv(this,av(t.animation),e),timings:n,options:null}}}class Cv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Iv(t){return!Array.isArray(t)&&"object"==typeof t}function xv(t){var e;return t?(t=ev(t)).params&&(t.params=(e=t.params)?ev(e):null):t={},t}function Av(t,e,n){return{duration:t,delay:e,easing:n}}function jv(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class kv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Nv=new RegExp(":enter","g"),Dv=new RegExp(":leave","g");function Pv(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Rv).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Rv{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new kv;const l=new Fv(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),mv(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[jv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Yy(n.duration):null,s=null!=n.delay?Yy(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),mv(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lv);const t=Yy(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>mv(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Yy(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),mv(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return tv(e.params?lv(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Yy(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lv);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),mv(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;mv(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Lv={};class Fv{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Vv(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Yy(n.duration)),null!=n.delay&&(r.delay=Yy(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=lv(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Fv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Lv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Mv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Nv,"."+this._enterClassName)).replace(Dv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Vv{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Hm,this._currentKeyframe[t]=Hm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Hm})):nv(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=lv(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Hm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=nv(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Hm&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?hv(t.values()):[],s=e.size?hv(e.values()):[];if(n){const t=r[0],e=ev(t);t.offset=0,e.offset=1,r=[t,e]}return jv(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Mv extends Vv{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=nv(t[0],!1);a.offset=0,i.push(a);const u=nv(t[0],!1);u.offset=Uv(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=nv(t[r],!1);o.offset=Uv((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return jv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Uv(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Hv{}class qv extends Hv{normalizePropertyName(t,e){return dv(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(zv[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const zv=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Bv(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Gv={};class $v{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Gv,f=this.buildStyles(n,o&&o.params||Gv,l),d=a&&a.params||Gv,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:Pv(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Bv(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=ky(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ky(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=hv(g.values());return Bv(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class Kv{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ev(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=lv(s,r,e)),n[t]=s})}}),n}}class Wv{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Kv(t.style,t.options&&t.options.params||{})}),Jv(this.states,"true","1"),Jv(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $v(t,e,this.states))}),this.fallbackTransition=new $v(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Jv(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Qv=new kv;class Zv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ov(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Iy(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Pv(this._driver,e,i,$y,Ky,{},{},n,Qv,r),s.forEach(t=>{const e=ky(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Hm)})});const a=Cy(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=jy(e,"","","");return xy(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Yv="ng-animate-queued",Xv="ng-animate-disabled",tb=".ng-animate-disabled",eb=[],nb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ib{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ev(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const sb="void",ob=new ib(sb);class ab{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pb(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=ky(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=ky(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(pb(t,Wy),pb(t,"ng-trigger-"+e),a[e]=ob),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new cb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(pb(t,Wy),pb(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new ib(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=ob),u.value!==sb&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ov(t,n),sv(t,r)})}return}const c=ky(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(pb(t,Yv),s.onStart(()=>{gb(t,Yv)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Jy,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,sb,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Cy(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||ob,o=new ib(sb),a=new cb(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==nb||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){pb(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=jy(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,xy(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ub{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ab(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(lb(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!lb(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pb(t,Xv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gb(t,Xv))}removeNode(t,e,n,r){if(lb(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return lb(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Jy,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Zy,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Cy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=nb,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,tb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,tb,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)pb(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Cy(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new kv,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=db(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=$y+p++;d.set(e,n),t.forEach(t=>pb(t,n))});const g=[],m=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=db(h,Array.from(m));b.forEach((t,e)=>{const n=Ky+p++;v.set(e,n),t.forEach(t=>pb(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>gb(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>gb(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>ov(i,p.fromStyles)),e.onDestroy(()=>sv(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>ov(i,p.fromStyles)),e.onDestroy(()=>sv(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>ky(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ky(E,e,[]).push(t),t.destroy()})});const O=g.filter(t=>vb(t,a,u)),T=new Map;fb(T,this.driver,y,u,Hm).forEach(t=>{vb(t,a,u)&&O.push(t)});const C=new Map;f.forEach((t,e)=>{fb(C,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>sv(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Cy(e)),r.push(s)}}else ov(e,o.fromStyles),s.onDestroy(()=>sv(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Cy(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<g.length;j++){const t=g[j],e=t.__ng_removed;if(gb(t,Ky),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Zy,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?mb(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==sb;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=ky(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}ov(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Jm(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return yb(t,e),e}((n.get(h)||eb).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Iy(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new cb(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{ky(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>pb(t,Qy));const f=Cy(h);return f.onDestroy(()=>{c.forEach(t=>gb(t,Qy)),sv(a,e.toStyles)}),l.forEach(t=>{ky(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Jm(t.duration,t.delay)}}class cb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Jm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>xy(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ky(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function lb(t){return t&&1===t.nodeType}function hb(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function fb(t,e,n,r,i){const s=[];n.forEach(t=>s.push(hb(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=rb,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>hb(t,s[a++])),o}function db(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function pb(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function gb(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function mb(t,e,n){Cy(n).onDone(()=>t.processLeaveNode(e))}function yb(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Qm?yb(r.players,e):e.push(r)}}function vb(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class bb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ub(t,e,n),this._timelineEngine=new Zv(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ov(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Wv(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ny(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ny(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function _b(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Eb(e[0]),e.length>1&&(r=Eb(e[e.length-1]))):e&&(n=Eb(e)),n||r?new wb(t,n,r):null}let wb=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&sv(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sv(this._element,this._initialStyles),this._endStyles&&(sv(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ov(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ov(this._element,this._endStyles),this._endStyles=null),sv(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Eb(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Sb(i)&&(e=e||{},e[i]=t[i])}return e}function Sb(t){return"display"===t||"position"===t}const Ob="animation",Tb="animationend";class Cb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Nb(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),kb(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ib(this._element,this._name,"paused")}resume(){Ib(this._element,this._name,"running")}setPosition(t){const e=xb(this._element,this._name);this._position=t*this._duration,kb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Nb(t,"").split(","),r=Ab(n,e);r>=0&&(n.splice(r,1),kb(t,"",n.join(",")))}(this._element,this._name))}}function Ib(t,e,n){kb(t,"PlayState",n,xb(t,e))}function xb(t,e){const n=Nb(t,"");return n.indexOf(",")>0?Ab(n.split(","),e):Ab([n],e)}function Ab(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function jb(t,e,n){n?t.removeEventListener(Tb,e):t.addEventListener(Tb,e)}function kb(t,e,n,r){const i=Ob+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Nb(t,e){return t.style[Ob+e]||""}class Db{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Cb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:yv(this.element,n))})}this.currentSnapshot=t}}class Pb extends Jm{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=zy(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Rb{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return My(t)}matchesElement(t,e){return Uy(t,e)}containsElement(t,e){return Hy(t,e)}query(t,e,n){return qy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>zy(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Db),u={};pv(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=gv(t,e,u));if(0==n)return new Pb(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=_b(t,e),d=new Db(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class Lb{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:yv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Fb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Vb().toString()),this._cssKeyframesDriver=new Rb}validateStyleProperty(t){return My(t)}matchesElement(t,e){return Uy(t,e)}containsElement(t,e){return Hy(t,e)}query(t,e,n){return qy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof Lb);pv(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=_b(t,e=gv(t,e=e.map(t=>nv(t,!1)),u));return new Lb(t,e,a,l)}}function Vb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Mb=(()=>{class t extends Um{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Bm(t):t;return qb(this._renderer,null,e,"register",[n]),new Ub(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Ub extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Hb(this._id,t,e||{},this._renderer)}}class Hb{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return qb(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function qb(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const zb="@",Bb="@.disabled";let Gb=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new $b("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Kb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(bb),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class $b{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==zb&&e==Bb?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Kb extends $b{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==zb?"."==e.charAt(1)&&e==Bb?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==zb){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=zb&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Wb=(()=>{class t extends bb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(Gy),r.Sb(Hv))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Jb=[{provide:Gy,useFactory:function(){return"function"==typeof Vb()?new Fb:new Rb}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Um,useClass:Mb},{provide:Hv,useFactory:function(){return new qv}},{provide:bb,useClass:Wb},{provide:r.E,useFactory:function(t,e,n){return new Gb(t,e,n)},deps:[Nt,bb,r.z]}];let Qb=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:Jb,imports:[Kt]}),t})(),Zb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Ob(1,"div",1),r.Ob(2,"span",2),r.jc(3,"App Clientes Angular-Firebase"),r.Nb(),r.Nb(),r.Nb())},styles:[""]}),t})();class Yb extends Hg.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Jg.a;return this._value}next(t){super.next(this._value=t)}}var Xb=n("DH7j");class t_ extends re.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class e_ extends re.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var n_=n("SeVD");function r_(t,e,n,r,i=new e_(t,n,r)){if(!i.closed)return e instanceof Qt.a?e.subscribe(i):Object(n_.a)(e)(i)}var i_=n("yCtX");const s_={};class o_{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new a_(t,this.resultSelector))}}class a_ extends t_{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(s_),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(r_(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===s_?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function u_(t){return new Qt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Zt.a)(n):Object(nm.b)()).subscribe(e)})}function c_(t){return function(e){const n=new l_(t),r=e.lift(n);return n.caught=r}}class l_{constructor(t){this.selector=t}call(t,e){return e.subscribe(new h_(t,this.selector,this.caught))}}class h_ extends zg.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zg.a(this);this.add(r);const i=Object(zg.c)(n,r);i!==r&&this.add(i)}}}var f_=n("5+tZ");function d_(t,e){return Object(f_.a)(t,e,1)}function p_(t){return function(e){return 0===t?Object(nm.b)():e.lift(new g_(t))}}class g_{constructor(t){if(this.total=t,this.total<0)throw new em}call(t,e){return e.subscribe(new m_(t,this.total))}}class m_ extends re.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var y_=n("vkgz");class v_{constructor(t){this.callback=t}call(t,e){return e.subscribe(new b_(t,this.callback))}}class b_ extends re.a{constructor(t,e){super(t),this.add(new Wg.a(e))}}class __{constructor(t,e){this.id=t,this.url=e}}class w_ extends __{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class E_ extends __{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class S_ extends __{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class O_ extends __{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class T_ extends __{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C_ extends __{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I_ extends __{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class x_ extends __{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A_ extends __{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j_{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k_{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N_{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D_{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P_{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R_{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L_{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const F_="primary";class V_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function M_(t){return new V_(t)}function U_(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function H_(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function q_(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!z_(t[i],e[i]))return!1;return!0}function z_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function B_(t){return Array.prototype.concat.apply([],t)}function G_(t){return t.length>0?t[t.length-1]:null}function $_(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function K_(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Zt.a)(Promise.resolve(t)):Object(Yt.a)(t)}function W_(t,e,n){return n?function(t,e){return q_(t,e)}(t.queryParams,e.queryParams)&&J_(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>z_(t[n],e[n]))}(t.queryParams,e.queryParams)&&Q_(t.root,e.root)}function J_(t,e){if(!ew(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!J_(t.children[n],e.children[n]))return!1}return!0}function Q_(t,e){return Z_(t,e,e.segments)}function Z_(t,e,n){if(t.segments.length>n.length)return!!ew(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ew(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Q_(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ew(t.segments,r)&&!!t.children.primary&&Z_(t.children.primary,e,i)}}class Y_{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M_(this.queryParams)),this._queryParamMap}toString(){return iw.serialize(this)}}class X_{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$_(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sw(this)}}class tw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=M_(this.parameters)),this._parameterMap}toString(){return fw(this)}}function ew(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class nw{}class rw{parse(t){const e=new yw(t);return new Y_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+ow(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${uw(e)}=${uw(t)}`).join("&"):`${uw(e)}=${uw(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const iw=new rw;function sw(t){return t.segments.map(t=>fw(t)).join("/")}function ow(t,e){if(!t.hasChildren())return sw(t);if(e){const e=t.children.primary?ow(t.children.primary,!1):"",n=[];return $_(t.children,(t,e)=>{e!==F_&&n.push(`${e}:${ow(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return $_(t.children,(t,r)=>{r===F_&&(n=n.concat(e(t,r)))}),$_(t.children,(t,r)=>{r!==F_&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===F_?[ow(t.children.primary,!1)]:[`${n}:${ow(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${sw(t)}/${e[0]}`:`${sw(t)}/(${e.join("//")})`}}function aw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uw(t){return aw(t).replace(/%3B/gi,";")}function cw(t){return aw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lw(t){return decodeURIComponent(t)}function hw(t){return lw(t.replace(/\+/g,"%20"))}function fw(t){return`${cw(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cw(t)}=${cw(e[t])}`).join("")}`;var e}const dw=/^[^\/()?;=#]+/;function pw(t){const e=t.match(dw);return e?e[0]:""}const gw=/^[^=?&#]+/,mw=/^[^?&#]+/;class yw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X_([],{}):new X_([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new X_(t,e)),n}parseSegment(){const t=pw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tw(lw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pw(this.remaining);t&&(n=t,this.capture(n))}t[lw(e)]=lw(n)}parseQueryParam(t){const e=function(t){const e=t.match(gw);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mw);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=hw(e),i=hw(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=F_);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new X_([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bw(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_w(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _w(t,this._root).map(t=>t.value)}}function bw(t,e){if(t===e.value)return e;for(const n of e.children){const e=bw(t,n);if(e)return e}return null}function _w(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_w(t,n);if(r.length)return r.unshift(e),r}return[]}class ww{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ew(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Sw extends vw{constructor(t,e){super(t),this.snapshot=e,Aw(this,t)}toString(){return this.snapshot.toString()}}function Ow(t,e){const n=function(t,e){const n=new Iw([],{},{},"",{},F_,e,null,t.root,-1,{});return new xw("",new ww(n,[]))}(t,e),r=new Yb([new tw("",{})]),i=new Yb({}),s=new Yb({}),o=new Yb({}),a=new Yb(""),u=new Tw(r,i,o,a,s,F_,e,n.root);return u.snapshot=n.root,new Sw(new ww(u,[]),n)}class Tw{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ae.a)(t=>M_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ae.a)(t=>M_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Iw{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=M_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xw extends vw{constructor(t,e){super(e),this.url=t,Aw(this,e)}toString(){return jw(this._root)}}function Aw(t,e){e.value._routerState=t,e.children.forEach(e=>Aw(t,e))}function jw(t){const e=t.children.length>0?` { ${t.children.map(jw).join(", ")} } `:"";return`${t.value}${e}`}function kw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,q_(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),q_(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!q_(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),q_(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Nw(t,e){return q_(t.params,e.params)&&function(t,e){return ew(t,e)&&t.every((t,n)=>q_(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Nw(t.parent,e.parent))}function Dw(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Dw(t,e,r);return Dw(t,e)})}(t,e,n);return new ww(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Pw(e,t),t}{const n=new Tw(new Yb((r=e.value).url),new Yb(r.params),new Yb(r.queryParams),new Yb(r.fragment),new Yb(r.data),r.outlet,r.component,r),i=e.children.map(e=>Dw(t,e));return new ww(n,i)}}var r}function Pw(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Pw(t.children[n],e.children[n])}function Rw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lw(t){return"object"==typeof t&&null!=t&&t.outlets}function Fw(t,e,n,r,i){let s={};return r&&$_(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Y_(n.root===t?e:Vw(n.root,t,e),s,i)}function Vw(t,e,n){const r={};return $_(t.children,(t,i)=>{r[i]=t===e?n:Vw(t,e,n)}),new X_(t.segments,r)}class Mw{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Rw(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Lw);if(r&&r!==G_(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uw{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hw(t,e,n){if(t||(t=new X_([],{})),0===t.segments.length&&t.hasChildren())return qw(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Lw(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!$w(a,u,e))return s;r+=2}else{if(!$w(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new X_(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new X_(t.segments.slice(r.pathIndex),t.children),qw(e,0,i)}return r.match&&0===i.length?new X_(t.segments,{}):r.match&&!t.hasChildren()?zw(t,e,n):r.match?qw(t,0,i):zw(t,e,n)}function qw(t,e,n){if(0===n.length)return new X_(t.segments,{});{const r=function(t){return Lw(t[0])?t[0].outlets:{[F_]:t}}(n),i={};return $_(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hw(t.children[r],e,n))}),$_(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new X_(t.segments,i)}}function zw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Lw(s)){const t=Bw(s.outlets);return new X_(r,t)}if(0===i&&Rw(n[0])){r.push(new tw(t.segments[e].path,n[0])),i++;continue}const o=Lw(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Rw(a)?(r.push(new tw(o,Gw(a))),i+=2):(r.push(new tw(o,{})),i++)}return new X_(r,{})}function Bw(t){const e={};return $_(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=zw(new X_([],{}),0,t))}),e}function Gw(t){const e={};return $_(t,(t,n)=>e[n]=""+t),e}function $w(t,e,n){return t==n.path&&q_(e,n.parameters)}class Kw{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kw(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ew(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$_(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Ew(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Ew(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new R_(t.value.snapshot))}),t.children.length&&this.forwardEvent(new D_(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kw(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ww(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ww(t){kw(t.value),t.children.forEach(Ww)}class Jw{constructor(t,e){this.routes=t,this.module=e}}function Qw(t){return"function"==typeof t}function Zw(t){return t instanceof Y_}const Yw=Symbol("INITIAL_VALUE");function Xw(){return Bg(t=>function(...t){let e=void 0,n=void 0;return Object(ee.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Xb.a)(t[0])&&(t=t[0]),Object(i_.a)(t,n).lift(new o_(e))}(t.map(t=>t.pipe(rm(1),ne(Yw)))).pipe(ue((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Yw)return t;if(r===Yw&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Zw(r))return r}return t},t)},Yw),de(t=>t!==Yw),Object(ae.a)(t=>Zw(t)?t:!0===t),rm(1)))}let tE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[KE]},encapsulation:2}),t})();function eE(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];nE(r,rE(e,r))}}function nE(t,e){t.children&&eE(t.children,e)}function rE(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function iE(t){const e=t.children&&t.children.map(iE),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==F_&&(n.component=tE),n}function sE(t){return t.outlet||F_}function oE(t,e){const n=t.filter(t=>sE(t)===e);return n.push(...t.filter(t=>sE(t)!==e)),n}const aE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function uE(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},aE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||H_)(n,t,e);if(!i)return Object.assign({},aE);const s={};$_(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function cE(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>lE(t,e,n)&&sE(n)!==F_)}(t,n,r)){const i=new X_(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&sE(s)!==F_){const n=new X_([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[sE(s)]=n}return i}(t,e,r,new X_(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>lE(t,e,n))}(t,n,r)){const s=new X_(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(lE(t,n,a)&&!i[sE(a)]){const n=new X_([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[sE(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new X_(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function lE(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function hE(t,e,n,r){return!!(sE(t)===r||r!==F_&&lE(e,n,t))&&("**"===t.path||uE(e,t,n).matched)}function fE(t,e,n){return 0===e.length&&!t.children[n]}class dE{constructor(t){this.segmentGroup=t||null}}class pE{constructor(t){this.urlTree=t}}function gE(t){return new Qt.a(e=>e.error(new dE(t)))}function mE(t){return new Qt.a(e=>e.error(new pE(t)))}function yE(t){return new Qt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class vE{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=cE(this.urlTree.root,[],[],this.config).segmentGroup,e=new X_(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,F_).pipe(Object(ae.a)(t=>this.createUrlTree(bE(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(c_(t=>{if(t instanceof pE)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof dE)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,F_).pipe(Object(ae.a)(e=>this.createUrlTree(bE(e),t.queryParams,t.fragment))).pipe(c_(t=>{if(t instanceof dE)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new X_([],{[F_]:t}):t;return new Y_(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ae.a)(t=>new X_([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Zt.a)(r).pipe(d_(r=>{const i=n.children[r],s=oE(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(ae.a)(t=>({segment:t,outlet:r})))}),ue((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):dm.a,p_(1),n?om(e):cm(()=>new tm))}())}expandSegment(t,e,n,r,i,s){return Object(Zt.a)(n).pipe(d_(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(c_(t=>{if(t instanceof dE)return Object(Yt.a)(null);throw t}))),pm(t=>!!t),c_((t,n)=>{if(t instanceof tm||"EmptyError"===t.name){if(fE(e,r,i))return Object(Yt.a)(new X_([],{}));throw new dE(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return hE(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):gE(e):gE(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mE(i):this.lineralizeSegments(n,i).pipe(Object(f_.a)(n=>{const i=new X_(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=uE(e,r,i);if(!o)return gE(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?mE(l):this.lineralizeSegments(r,l).pipe(Object(f_.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ae.a)(t=>(n._loadedConfig=t,new X_(r,{})))):Object(Yt.a)(new X_(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=uE(e,n,r);if(!s)return gE(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(f_.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=cE(e,o,u,s),l=new X_(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(ae.a)(t=>new X_(o,t)));if(0===s.length&&0===c.length)return Object(Yt.a)(new X_(o,{}));const h=sE(n)===i;return this.expandSegment(r,l,s,c,h?F_:i,!0).pipe(Object(ae.a)(t=>new X_(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Yt.a)(new Jw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Yt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(f_.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ae.a)(t=>(e._loadedConfig=t,t))):function(t){return new Qt.a(e=>e.error(U_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Yt.a)(new Jw([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Yt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Qw(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Qw(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return K_(s)});return Object(Yt.a)(i).pipe(Xw(),Object(y_.a)(t=>{if(!Zw(t))return;const e=U_(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ae.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Yt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return yE(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Y_(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $_(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return $_(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new X_(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function bE(t){const e={};for(const n of Object.keys(t.children)){const r=bE(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new X_(t.segments.concat(e.segments),e.children)}return t}(new X_(t.segments,e))}class _E{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wE{constructor(t,e){this.component=t,this.route=e}}function EE(t,e,n){const r=t._root;return OE(r,e?e._root:null,n,[r.value])}function SE(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function OE(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ew(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ew(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ew(t.url,e.url)||!q_(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nw(t,e)||!q_(t.queryParams,e.queryParams);case"paramsChange":default:return!Nw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _E(r)):(s.data=o.data,s._resolvedData=o._resolvedData),OE(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wE(a.outlet.component,o))}else o&&TE(e,a,i),i.canActivateChecks.push(new _E(r)),OE(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),$_(s,(t,e)=>TE(t,n.getContext(e),i)),i}function TE(t,e,n){const r=Ew(t),i=t.value;$_(r,(t,r)=>{TE(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new wE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class CE{}function IE(t){return new Qt.a(e=>e.error(t))}class xE{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=cE(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,F_);if(null===e)return null;const n=new Iw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},F_,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ww(n,e),i=new xw(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Cw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=oE(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!AE(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===F_?-1:e.value.outlet===F_?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return fE(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!hE(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?G_(n).parameters:{};i=new Iw(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NE(t),sE(t),t.component,t,jE(e),kE(e)+n.length,DE(t))}else{const r=uE(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Iw(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NE(t),sE(t),t.component,t,jE(e),kE(e)+s.length,DE(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=cE(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new ww(i,t)]}if(0===a.length&&0===c.length)return[new ww(i,[])];const l=sE(t)===r,h=this.processSegment(a,u,c,l?F_:r);return null===h?null:[new ww(i,h)]}}function AE(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jE(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kE(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function NE(t){return t.data||{}}function DE(t){return t.resolve||{}}function PE(t){return Bg(e=>{const n=t(e);return n?Object(Zt.a)(n).pipe(Object(ae.a)(()=>e)):Object(Yt.a)(e)})}class RE extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const LE=new r.q("ROUTES");class FE{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ae.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Jw(B_(r.injector.get(LE)).map(iE),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Zt.a)(this.loader.load(t)):K_(t()).pipe(Object(f_.a)(t=>t instanceof r.v?Object(Yt.a)(t):Object(Zt.a)(this.compiler.compileModuleAsync(t))))}}class VE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ME,this.attachRef=null}}class ME{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new VE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class UE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function HE(t){throw t}function qE(t,e,n){return e.parse("/")}function zE(t,e){return Object(Yt.a)(null)}let BE=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Hg.a,this.errorHandler=HE,this.malformedUriErrorHandler=qE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zE,afterPreactivation:zE},this.urlHandlingStrategy=new UE,this.routeReuseStrategy=new RE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Y_(new X_([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new FE(o,a,t=>this.triggerEvent(new j_(t)),t=>this.triggerEvent(new k_(t))),this.routerState=Ow(this.currentUrlTree,this.rootComponentType),this.transitions=new Yb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(de(t=>0!==t.id),Object(ae.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Bg(t=>{let n=!1,r=!1;return Object(Yt.a)(t).pipe(Object(y_.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Yt.a)(t).pipe(Bg(t=>{const n=this.transitions.getValue();return e.next(new w_(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?nm.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Bg(t=>function(t,e,n,r,i){return new vE(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(ae.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(y_.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(f_.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new xE(t,e,n,r,i,s).recognize();return null===o?IE(new CE):Object(Yt.a)(o)}catch(Vg){return IE(Vg)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(ae.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(y_.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new T_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new w_(n,this.serializeUrl(r),i,s);e.next(a);const u=Ow(r,this.rootComponentType).snapshot;return Object(Yt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),nm.a}),PE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(y_.a)(t=>{const e=new C_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ae.a)(t=>Object.assign(Object.assign({},t),{guards:EE(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(f_.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Yt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Zt.a)(t).pipe(Object(f_.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Yt.a)(!0);const o=s.map(s=>{const o=SE(s,e,i);let a;if(function(t){return t&&Qw(t.canDeactivate)}(o))a=K_(o.canDeactivate(t,e,n,r));else{if(!Qw(o))throw new Error("Invalid CanDeactivate guard");a=K_(o(t,e,n,r))}return a.pipe(pm())});return Object(Yt.a)(o).pipe(Xw())}(t.component,t.route,n,e,r)),pm(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(f_.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Zt.a)(e).pipe(d_(e=>te(function(t,e){return null!==t&&e&&e(new N_(t)),Object(Yt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new P_(t)),Object(Yt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>u_(()=>{const i=e.guards.map(i=>{const s=SE(i,e.node,n);let o;if(function(t){return t&&Qw(t.canActivateChild)}(s))o=K_(s.canActivateChild(r,t));else{if(!Qw(s))throw new Error("Invalid CanActivateChild guard");o=K_(s(r,t))}return o.pipe(pm())});return Object(Yt.a)(i).pipe(Xw())}));return Object(Yt.a)(i).pipe(Xw())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Yt.a)(!0);const i=r.map(r=>u_(()=>{const i=SE(r,e,n);let s;if(function(t){return t&&Qw(t.canActivate)}(i))s=K_(i.canActivate(e,t));else{if(!Qw(i))throw new Error("Invalid CanActivate guard");s=K_(i(e,t))}return s.pipe(pm())}));return Object(Yt.a)(i).pipe(Xw())}(t,e.route,n))),pm(t=>!0!==t,!0))}(r,s,t,e):Object(Yt.a)(n)),Object(ae.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(y_.a)(t=>{if(Zw(t.guardsResult)){const e=U_(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new I_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),de(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new S_(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),PE(t=>{if(t.guards.canActivateChecks.length)return Object(Yt.a)(t).pipe(Object(y_.a)(t=>{const e=new x_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Bg(t=>{let n=!1;return Object(Yt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(f_.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Yt.a)(t);let s=0;return Object(Zt.a)(n).pipe(d_(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Yt.a)({});const s={};return Object(Zt.a)(i).pipe(Object(f_.a)(i=>function(t,e,n,r){const i=SE(t,e,r);return K_(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(y_.a)(t=>{s[i]=t}))),p_(1),Object(f_.a)(()=>Object.keys(s).length===i.length?Object(Yt.a)(s):nm.a))}(t._resolve,t,e,r).pipe(Object(ae.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cw(t,n).resolve),null)))}(t.route,e,r,i)),Object(y_.a)(()=>s++),p_(1),Object(f_.a)(e=>s===n.length?Object(Yt.a)(t):nm.a))})),Object(y_.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new S_(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(y_.a)(t=>{const e=new A_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),PE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ae.a)(t=>{const e=function(t,e,n){const r=Dw(t,e._root,n?n._root:void 0);return new Sw(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(y_.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ae.a)(t=>(new Kw(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(y_.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new S_(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new v_(i))),c_(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Zw(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new S_(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new O_(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(sa){t.reject(sa)}}var i;return nm.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){eE(t),this.config=t.map(iE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Fw(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mw(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $_(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mw(n,e,r)}(n);if(s.toRoot())return Fw(e.root,new X_([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Uw(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Uw(t,t===e.root,0)}const r=Rw(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Uw(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qw(o.segmentGroup,o.index,s.commands):Hw(o.segmentGroup,o.index,s.commands);return Fw(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Zw(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Vg){e=this.malformedUriErrorHandler(Vg,this.urlSerializer,t)}return e}isActive(t,e){if(Zw(t))return W_(this.currentUrlTree,t,e);const n=this.parseUrl(t);return W_(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new E_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(nw),r.Sb(ME),r.Sb(E),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),GE=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Hg.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:$E(this.skipLocationChange),replaceUrl:$E(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$E(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(BE),r.Jb(Tw),r.Tb("tabindex"),r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function $E(t){return""===t||!!t}let KE=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||F_,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new WE(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ME),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class WE{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tw?this.route:t===ME?this.childContexts:this.parent.get(t,e)}}class JE{}class QE{preload(t,e){return Object(Yt.a)(null)}}let ZE=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new FE(e,n,e=>t.triggerEvent(new j_(e)),e=>t.triggerEvent(new k_(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(de(t=>t instanceof E_),d_(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Zt.a)(n).pipe(Object(Xt.a)(),Object(ae.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(f_.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(BE),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(JE))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),YE=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof w_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof E_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof L_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new L_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(BE),r.Sb(pt),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const XE=new r.q("ROUTER_CONFIGURATION"),tS=new r.q("ROUTER_FORROOT_GUARD"),eS=[E,{provide:nw,useClass:rw},{provide:BE,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new BE(null,t,e,n,r,i,s,B_(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[nw,ME,E,r.r,r.w,r.i,LE,XE,[class{},new r.A],[class{},new r.A]]},ME,{provide:Tw,useFactory:function(t){return t.routerState.root},deps:[BE]},{provide:r.w,useClass:r.J},ZE,QE,class{preload(t,e){return e().pipe(c_(()=>Object(Yt.a)(null)))}},{provide:XE,useValue:{enableTracing:!1}}];function nS(){return new r.y("Router",BE)}let rS=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[eS,aS(e),{provide:tS,useFactory:oS,deps:[[BE,new r.A,new r.I]]},{provide:XE,useValue:n||{}},{provide:y,useFactory:sS,deps:[u,[new r.p(b),new r.A],XE]},{provide:YE,useFactory:iS,deps:[BE,pt,XE]},{provide:JE,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:QE},{provide:r.y,multi:!0,useFactory:nS},[uS,{provide:r.d,multi:!0,useFactory:cS,deps:[uS]},{provide:hS,useFactory:lS,deps:[uS]},{provide:r.b,multi:!0,useExisting:hS}]]}}static forChild(e){return{ngModule:t,providers:[aS(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(tS,8),r.Sb(BE,8))}}),t})();function iS(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new YE(t,e,n)}function sS(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function oS(t){return"guarded"}function aS(t){return[{provide:r.a,multi:!0,useValue:t},{provide:LE,multi:!0,useValue:t}]}let uS=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Hg.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(BE),r=this.injector.get(XE);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Yt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(XE),n=this.injector.get(ZE),i=this.injector.get(YE),s=this.injector.get(BE),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function cS(t){return t.appInitializer.bind(t)}function lS(t){return t.bootstrapListener.bind(t)}const hS=new r.q("Router Initializer");let fS=(()=>{class t{constructor(){this.title="Clientes"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Kb(0,"app-navbar"),r.Kb(1,"router-outlet"))},directives:[Zb,KE],styles:[""]}),t})();var dS=n("XoHu");function pS(t,e){return new Qt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Zt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const gS=new r.q("NgValueAccessor"),mS={provide:gS,useExisting:Object(r.T)(()=>yS),multi:!0};let yS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([mS])]}),t})();const vS={provide:gS,useExisting:Object(r.T)(()=>_S),multi:!0},bS=new r.q("CompositionEventMode");let _S=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(bS,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([vS])]}),t})();function wS(t){return null==t||0===t.length}function ES(t){return null!=t&&"number"==typeof t.length}const SS=new r.q("NgValidators"),OS=new r.q("NgAsyncValidators"),TS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class CS{static min(t){return e=>{if(wS(e.value)||wS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(wS(e.value)||wS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return wS(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return wS(t.value)||TS.test(t.value)?null:{email:!0}}static minLength(t){return e=>wS(e.value)||!ES(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ES(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return CS.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(wS(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(IS);return 0==e.length?null:function(t){return AS(jS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(IS);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Xb.a)(e))return pS(e,null);if(Object(dS.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pS(t=1===t.length&&Object(Xb.a)(t[0])?t[0]:t,null).pipe(Object(ae.a)(t=>e(...t)))}return pS(t,null)}(jS(t,e).map(xS)).pipe(Object(ae.a)(AS))}}}function IS(t){return null!=t}function xS(t){const e=Object(r.qb)(t)?Object(Zt.a)(t):t;return Object(r.pb)(e),e}function AS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jS(t,e){return e.map(e=>e(t))}function kS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function NS(t){return null!=t?CS.compose(kS(t)):null}function DS(t){return null!=t?CS.composeAsync(kS(t)):null}function PS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function RS(t){return t._rawValidators}function LS(t){return t._rawAsyncValidators}let FS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=NS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=DS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),VS=(()=>{class t extends FS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return MS(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const MS=r.Qb(VS);class US extends FS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HS{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let qS=(()=>{class t extends HS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(US,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),zS=(()=>{class t extends HS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(VS,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const BS={provide:gS,useExisting:Object(r.T)(()=>GS),multi:!0};let GS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([BS])]}),t})();const $S={provide:gS,useExisting:Object(r.T)(()=>WS),multi:!0};let KS=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),WS=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(US),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(KS),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([$S])]}),t})();const JS={provide:gS,useExisting:Object(r.T)(()=>QS),multi:!0};let QS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([JS])]}),t})();const ZS={provide:gS,useExisting:Object(r.T)(()=>YS),multi:!0};let YS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ZS])]}),t})();const XS={provide:gS,useExisting:Object(r.T)(()=>tO),multi:!0};let tO=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([XS])]}),t})();function eO(t,e){rO(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sO(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function nO(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rO(t,e,n){const r=RS(t);null!==e.validator?t.setValidators(PS(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=LS(t);if(null!==e.asyncValidator?t.setAsyncValidators(PS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();nO(e._rawValidators,n),nO(e._rawAsyncValidators,n)}}function iO(t,e,n){if(null!==t){if(null!==e.validator){const n=RS(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=LS(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};nO(e._rawValidators,t),nO(e._rawAsyncValidators,t)}}function sO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oO(t,e){rO(t,e,!1)}const aO=[yS,QS,GS,YS,tO,WS];function uO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cO="VALID",lO="INVALID",hO="PENDING",fO="DISABLED";function dO(t){return(yO(t)?t.validators:t)||null}function pO(t){return Array.isArray(t)?NS(t):t||null}function gO(t,e){return(yO(e)?e.asyncValidators:t)||null}function mO(t){return Array.isArray(t)?DS(t):t||null}function yO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class vO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pO(this._rawValidators),this._composedAsyncValidatorFn=mO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cO}get invalid(){return this.status===lO}get pending(){return this.status==hO}get disabled(){return this.status===fO}get enabled(){return this.status!==fO}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mO(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=hO,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fO,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cO,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==cO&&this.status!==hO||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fO:cO}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=hO,this._hasOwnPendingAsyncValidator=!0;const e=xS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof _O?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof wO&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?fO:this.errors?lO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hO)?hO:this._anyControlsHaveStatus(lO)?lO:cO}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bO extends vO{constructor(t=null,e,n){super(dO(e),gO(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _O extends vO{constructor(t,e,n){super(dO(e),gO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof bO?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class wO extends vO{constructor(t,e,n){super(dO(e),gO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof bO?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let EO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const SO=new r.q("NgModelWithFormControlWarning"),OO={provide:VS,useExisting:Object(r.T)(()=>TO)};let TO=(()=>{class t extends VS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return eO(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){uO(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);oO(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);oO(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),iO(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&eO(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rO(this.form,this,!1),this._oldForm&&iO(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(SS,10),r.Jb(OS,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([OO]),r.vb,r.wb]}),t})();const CO={provide:US,useExisting:Object(r.T)(()=>IO)};let IO=(()=>{class t extends US{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===_S?n=t:(e=t,aO.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(VS,13),r.Jb(SS,10),r.Jb(OS,10),r.Jb(gS,10),r.Jb(SO,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([CO]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),xO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),AO=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new _O(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new bO(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new wO(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof bO||t instanceof _O||t instanceof wO?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),jO=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:SO,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[AO,KS],imports:[xO]}),t})(),kO=(()=>{class t{constructor(t){this.firestore=t}agregarCliente(t){return this.firestore.collection("clientes").add(t)}getClientes(){return this.firestore.collection("clientes",t=>t.orderBy("FechaCreacion","asc")).snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Vm))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NO(t,e){1&t&&(r.Ob(0,"div",17),r.Ob(1,"span",18),r.jc(2,"Loading..."),r.Nb(),r.Nb())}let DO=(()=>{class t{constructor(t,e,n,r){this.fb=t,this._clienteService=e,this.router=n,this.toastr=r,this.submitted=!1,this.loading=!1,this.createCliente=this.fb.group({Nombre:["",CS.required],Apellido:["",CS.required],FechaNacimiento:["",CS.required]})}ngOnInit(){}agregarCliente(){if(this.submitted=!0,this.createCliente.invalid)return;this.loading=!0;const t={Nombre:this.createCliente.value.Nombre,Apellido:this.createCliente.value.Apellido,FechaNacimiento:this.createCliente.value.FechaNacimiento,FechaCreacion:new Date,FechaActualizacion:new Date};this._clienteService.agregarCliente(t).then(()=>{this.toastr.success(this.createCliente.value.Nombre+" registrado con exito!","Cliente Registrado"),this.loading=!1,this.router.navigate(["/list-clientes"])}).catch(t=>{this.loading=!1,this.toastr.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(AO),r.Jb(kO),r.Jb(BE),r.Jb(_y))},t.\u0275cmp=r.Db({type:t,selectors:[["app-create-clientes"]],decls:28,vars:15,consts:[[1,"container","pt-4"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border text-info float-end","role","status",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-user"],["type","text","formControlName","Nombre","placeholder","Ingrese Nombre","aria-label","Nombre","aria-describedby","basic-addon1",1,"form-control"],["type","text","formControlName","Apellido","placeholder","Ingrese Apellido","aria-label","Apellido","aria-describedby","basic-addon1",1,"form-control"],[1,"fas","fa-calendar"],["type","date","formControlName","FechaNacimiento","placeholder","Fecha de Nacimiento","aria-label","FechaNacimiento","aria-describedby","basic-addon1",1,"form-control"],[1,"row"],[1,"col-md-6","mt-2"],["type","text","routerLink","/list-clientes",1,"btn","btn-success"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","status",1,"spinner-border","text-info","float-end"],[1,"visually-hidden"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"h3"),r.jc(5,"Agregar Cliente "),r.ic(6,NO,3,0,"div",4),r.Nb(),r.Ob(7,"form",5),r.Vb("ngSubmit",function(){return e.agregarCliente()}),r.Kb(8,"br"),r.Ob(9,"div",6),r.Ob(10,"span",7),r.Kb(11,"i",8),r.Nb(),r.Kb(12,"input",9),r.Nb(),r.Ob(13,"div",6),r.Ob(14,"span",7),r.Kb(15,"i",8),r.Nb(),r.Kb(16,"input",10),r.Nb(),r.Ob(17,"div",6),r.Ob(18,"span",7),r.Kb(19,"i",11),r.Nb(),r.Kb(20,"input",12),r.Nb(),r.Ob(21,"div",13),r.Ob(22,"div",14),r.Ob(23,"button",15),r.jc(24,"Regresar"),r.Nb(),r.Nb(),r.Ob(25,"div",14),r.Ob(26,"button",16),r.jc(27,"Agregar"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(6),r.ac("ngIf",e.loading),r.yb(1),r.ac("formGroup",e.createCliente),r.yb(4),r.Bb("green-icon",e.createCliente.get("Nombre").valid)("red-icon",e.createCliente.get("Nombre").invalid&&e.createCliente.get("Nombre").touched),r.yb(4),r.Bb("green-icon",e.createCliente.get("Apellido").valid)("red-icon",e.createCliente.get("Apellido").invalid&&e.createCliente.get("Apellido").touched),r.yb(4),r.Bb("green-icon",e.createCliente.get("FechaNacimiento").valid)("red-icon",e.createCliente.get("FechaNacimiento").invalid&&e.createCliente.get("FechaNacimiento").touched),r.yb(7),r.ac("disabled",e.createCliente.invalid))},directives:[ut,EO,zS,TO,_S,qS,IO,GE],styles:[""]}),t})();function PO(t,e){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td"),r.jc(2),r.Nb(),r.Ob(3,"td"),r.jc(4),r.Nb(),r.Ob(5,"td"),r.jc(6),r.Nb(),r.Ob(7,"td"),r.jc(8),r.Yb(9,"date"),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.yb(2),r.kc(t.Nombre),r.yb(2),r.kc(t.Apellido),r.yb(2),r.kc(t.Edad),r.yb(2),r.kc(r.Zb(9,4,t.FechaNacimiento,"dd-MM-yyyy"))}}const RO=[{path:"",redirectTo:"list-clientes",pathMatch:"full"},{path:"list-clientes",component:(()=>{class t{constructor(t){this._clienteService=t,this.clientes=[]}ngOnInit(){this.getClientes()}getClientes(){this._clienteService.getClientes().subscribe(t=>{t.forEach(t=>{this.clientes.push(Object.assign({id:t.payload.doc.id},t.payload.doc.data()))});var e=new Date;e.getMonth(),e.getDate(),e.getMonth(),e.getFullYear();for(let r=0;r<this.clientes.length;r++){const t=new Date(this.clientes[r].FechaNacimiento),e=Math.abs(Date.now()-t.getTime());var n=Math.floor(e/864e5/365);this.clientes[r].Edad=n}this.getPromedio()})}getPromedio(){var t=0;for(let e=0;e<this.clientes.length;e++)t+=parseInt(this.clientes[e].Edad);this.promedio=t/this.clientes.length,this.getDesviacion()}getDesviacion(){var t=0;for(let e=0;e<this.clientes.length;e++)t=(parseInt(this.clientes[e].Edad)-this.promedio)*(parseInt(this.clientes[e].Edad)-this.promedio)+t;this.desviacion=Math.sqrt(t/(this.clientes.length-1))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(kO))},t.\u0275cmp=r.Db({type:t,selectors:[["app-list-clientes"]],decls:25,vars:3,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/createClientes",1,"btn","btn-success","float-end"],[1,"fas","fa-plus-square"],["role","alert",1,"alert","alert-primary","mt-4"],[1,"table-responsive","mt-5"],[1,"table","table-bordered","table-hover"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"span",3),r.jc(4,"Listado de Clientes"),r.Nb(),r.Ob(5,"button",4),r.Kb(6,"i",5),r.jc(7," Agregar"),r.Nb(),r.Ob(8,"div",6),r.Ob(9,"b"),r.jc(10),r.Nb(),r.Nb(),r.Ob(11,"div",7),r.Ob(12,"table",8),r.Ob(13,"thead"),r.Ob(14,"tr"),r.Ob(15,"th",9),r.jc(16,"Nombre"),r.Nb(),r.Ob(17,"th",9),r.jc(18,"Apellido"),r.Nb(),r.Ob(19,"th",9),r.jc(20,"Edad"),r.Nb(),r.Ob(21,"th",9),r.jc(22,"Fecha Nacimiento"),r.Nb(),r.Nb(),r.Nb(),r.Ob(23,"tbody"),r.ic(24,PO,10,7,"tr",10),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(10),r.mc("Promedio de edades : ",e.promedio," \xa0\xa0\xa0 Desviacion estandar de edades : ",e.desviacion,""),r.yb(14),r.ac("ngForOf",e.clientes))},directives:[GE,ot],pipes:[ht],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"createClientes",component:DO},{path:"**",redirectTo:"list-clientes",pathMatch:"full"}];let LO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[rS.forRoot(RO)],rS]}),t})(),FO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[fS]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[Kt,LO,Wt.a.initializeApp(i),Mm,jO,Sy.forRoot(),Qb]]}),t})();Object(r.S)(),Gt().bootstrapModule(FO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);